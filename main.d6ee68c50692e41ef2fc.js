(self.webpackChunkzigbee2mqtt_frontend=self.webpackChunkzigbee2mqtt_frontend||[]).push([[179],{44013:(e,t,n)=>{"use strict";var a=n(67294);const r={container:"_1TK12NlMUcpu0IZGw5KG9F",img:"-vLZFy4QqTaA5Lql2j7WL",node:"_3VABKCYaUBV0N55MRkEiCg",link:"_2MMYgLsCQ5mPT-AJSdZ4Uz",linkLabel:"EFSV-Lj6sJyoW14QA3ig0",links:"_3m9RTJKJZqiJx1UmLLzi4",nodes:"_1RxBn1bAxqYxk5W0mPwZMS",EndDevice:"JhUbmgThutQMk8laPcsxg",Coordinator:"_3F14ZWmKtSPPHai2y_MRRj",Router:"_1I1ZcuMgRbn_B5HXF9Z2mw",BrokenLink:"_3FeEi6FG3R9pYpboNF-OBu",Coordinator2Router:"_2cFMSmedVqD5hjj2K7XpsQ",Router2Coordinator:"_3KnTt0kzrMwLh56UMBBqwe",Router2Router:"_3HeSfltIQjH_mQxhaoHnCs",Coordinator2EndDevice:"_2zGuiMZ7r-Z4mfRvCVQEAp",EndDevice2Coordinator:"_35uGMHQCj1Sx5FyJk5-Ec1",Router2EndDevice:"_1nD8O-bIFFZWctv6x4zD8j",EndDevice2Router:"_2tVxslI3DwN1gBA6s3V24b",foreignObject:"_1PgTRqMkYD7R1RqIF7R5ni",offline:"_3goiiMv86rV5wazL6jDpjU",controls:"RIAc5GeET4TLTKyCVy7yK"};var s=n(94184),l=n.n(s),i=n(94017);const o=e=>{const{link:{linkType:t},id:n,...s}=e;return a.createElement("path",Object.assign({id:n,className:l()(r.link,r[t]),strokeWidth:1,fill:"transparent"},s))},c=e=>{const{link:t}=e;return a.createElement("text",{className:r.linkLabel},t.linkqualities.join("/"))},m=e=>{const{links:t}=e,n=(0,a.useRef)();return(0,a.useLayoutEffect)((()=>{(0,i.Z)(n.current).selectAll(`.${r.link}`).data(t),(0,i.Z)(n.current).selectAll(`.${r.linkLabel}`).data(t)}),[t.length]),a.createElement("g",{ref:n,className:r.links},t.map((e=>a.createElement(a.Fragment,{key:`fragment${e.sourceIeeeAddr}-${e.targetIeeeAddr}-${e.linkType}`},a.createElement(o,{id:`edgepath${e.sourceIeeeAddr}-${e.targetIeeeAddr}-${e.linkType}`,link:e}),a.createElement(c,{xlinkHref:`#edgepath${e.sourceIeeeAddr}-${e.targetIeeeAddr}-${e.linkType}`,link:e})))))};var d=n(48454),u=n(9327);const p=e=>`/device/${e}`,h=(e,t=4)=>`0x${`${"0".repeat(t)}${e.toString(16)}`.substr(-1*t).toUpperCase()}`,v=(e,t)=>{if(!e&&!t)return"N/A";let n;return n=void 0!==t?Date.now()-t:"string"==typeof e?Date.parse(e):new Date(e),(0,u.WU)(n)},g=e=>{const t={},n=new Map;return e.nodes.forEach((e=>{t[e.ieeeAddr]=e})),e.links.sort(((e,t)=>e.relationship-t.relationship)).forEach((e=>{const a=t[e.source.ieeeAddr],r=t[e.target.ieeeAddr];if(a&&r){const t=[e.source.ieeeAddr,e.target.ieeeAddr].sort().join(""),s=n.get(t),l=[a.type,r.type].join("2");s?(s.linkqualities.push(e.linkquality),s.relationships.push(e.relationship)):n.set(t,{...e,source:e.source.ieeeAddr,linkType:l,target:e.target.ieeeAddr,linkqualities:[e.linkquality],relationships:[e.relationship]})}else console.warn("Broken link",e)})),e.links=Array.from(n.values()),e},E=e=>Math.random().toString(36).substr(2,e),f=(e,t,n)=>{const[a,r]=n,[s,l]=t;return(e-s)/(l-s)*(r-a)+a};function b(e,t){const n=this[e];return n instanceof Map?{dataType:"Map",value:Array.from(n.entries())}:t}const y=e=>JSON.stringify(e,b),k=(e,t)=>{const n=new Blob([y(e)],{type:"octet/stream"}),a=window.URL.createObjectURL(n),r=document.createElement("a");document.body.appendChild(r),r.href=a,r.download=t,setTimeout((()=>{r.click(),window.URL.revokeObjectURL(a),document.body.removeChild(r)}),1)},N=e=>e?e.endpoints?Array.from(e.endpoints.keys()):e.members?e.members.map((e=>e.endpoint)):[]:[],C=e=>JSON.stringify(e,((e,t)=>void 0===t?null:t)),S=e=>d,_=[e=>{var t,n;return`https://www.zigbee2mqtt.io/images/devices/${n=null===(t=null==e?void 0:e.definition)||void 0===t?void 0:t.model,n?n.replace(/:|\s|\//g,"-"):"NA"}.jpg`},e=>{return`https://slsys.github.io/Gateway/devices/png/${t=e.model_id,null==t?void 0:t.replace("/","_")}.png`;var t},S],w=e=>{var t,n;const[r,s]=(0,a.useState)(_),{device:i,deviceStatus:o,type:c="img",className:m,...d}=e;let u=S();(null===(t=null==i?void 0:i.definition)||void 0===t?void 0:t.model)&&r.length&&(u=r[0](i));const p=()=>{const e=[...r];e.shift(),s(e)},h="updating"===(null===(n=null==o?void 0:o.update)||void 0===n?void 0:n.state)?a.createElement("i",{title:"Updating firmware",className:"fa fa-sync fa-spin position-absolute bottom-0 right-0"}):null,v=i.interviewing?a.createElement("i",{title:"Interviewing",className:"fa fa-spinner fa-spin position-absolute bottom-0 right-0"}):null,g=i.interviewing||i.interview_completed?null:a.createElement("i",{title:"Interview failed",className:"fa fa-exclamation-triangle position-absolute top-0 right-0 text-danger"});switch(c){case"svg":return u?a.createElement("image",Object.assign({},d,{onError:p,href:u})):null;case"img":default:return u?a.createElement("div",Object.assign({className:l()(m,"position-relative")},d),a.createElement("img",{onError:p,src:u,className:"_2MpGRLox3gkk1O7Ojpw0KG"}),v,h,g):null}};var x=n(52601);const R=(e,t,n)=>{const a=Math.PI/e,r=2*e;let s="";for(let e=0;e<r;e++){const r=e%2==0?n:t;s+=`${15+Math.cos(e*a+60)*r}, ${15+Math.sin(e*a+60)*r} `}return s};class O extends a.Component{constructor(){super(...arguments),this.ref=(0,a.createRef)(),this.onMouseOut=()=>{const{node:e,onMouseOut:t}=this.props;this.ref&&this.ref.current&&t&&t(e,this.ref.current)},this.onMouseOver=()=>{const{node:e,onMouseOver:t}=this.props;this.ref&&this.ref.current&&t&&t(e,this.ref.current)},this.onDblClick=()=>{const{node:e,onDblClick:t}=this.props;this.ref&&this.ref.current&&t&&t(e,this.ref.current)}}componentDidMount(){const{current:e}=this.ref,{node:t}=this.props;(0,i.Z)(e).data([t])}render(){const{node:e}=this.props,{onMouseOver:t,onMouseOut:n,onDblClick:s}=this,i=e.type,o=l()(r.node,r[i]);return a.createElement("g",{className:o,ref:this.ref,onMouseOver:t,onMouseOut:n,onDoubleClick:s},"Coordinator"===e.type?a.createElement(a.Fragment,null,a.createElement("circle",{cx:15,cy:16,r:24,fill:"#fff",stroke:"blue",strokeWidth:1}),a.createElement("polygon",{stroke:"blue",strokeWidth:1,points:R(5,5,14)})):a.createElement(a.Fragment,null,a.createElement("circle",{cx:16,cy:17,r:24,fill:"#fff",stroke:"blue",strokeWidth:1}),a.createElement(w,{type:"svg",width:32,height:32,device:e,className:`${r.img}`})),a.createElement("text",{x:45,y:25},e.friendlyName))}}class A extends a.Component{constructor(){super(...arguments),this.state={toggle:!1}}updateDrag(){const{simulation:e,root:t}=this.props,n=(0,x.Z)().on("start",((t,n)=>{t.active||e.alphaTarget(.3).restart(),n.fx=n.x,n.fy=n.y})).on("drag",(({x:e,y:t},n)=>{n.fx=e,n.fy=t})).on("end",((t,n)=>{t.active||e.alphaTarget(0),n.fx=void 0,n.fy=void 0}));(0,i.Z)(t).selectAll(`.${r.node}`).call(n)}componentDidMount(){this.updateDrag()}componentDidUpdate(){this.updateDrag()}render(){const{nodes:e,onMouseOut:t,onMouseOver:n}=this.props;return a.createElement("g",{className:r.nodes},e.map((e=>a.createElement(O,{onMouseOut:t,onMouseOver:n,key:e.ieeeAddr,node:e}))))}}var D;!function(e){e[e.NeigbhorIsParent=0]="NeigbhorIsParent",e[e.NeigbhorIsAChild=1]="NeigbhorIsAChild",e[e.NeigbhorIsASibling=2]="NeigbhorIsASibling",e[e.NoneOfTheAbove=3]="NoneOfTheAbove",e[e.NeigbhorIsAFormerChild=4]="NeigbhorIsAFormerChild"}(D||(D={}));var I=n(42599),T=n(22003),$=n(72720),M=(n(12512),n(59858));const j=null!==(F=localStorage.getItem("theme"))&&void 0!==F?F:"light";var F;const L=(P=M,JSON.parse(P,(function(e,t){return"object"==typeof t&&null!==t&&"Map"===t.dataType?new Map(t.value):t})));var P;L.theme=j;const q=(0,$.Z)(L);var G=n(46685),B=n(75472),U=n.n(B);const W="z2m-token",Z="z2m-auth",H=new G.Iq,z=[/MQTT publish/],V=e=>{let t="",n="";if(void 0!==(a=e).level&&void 0!==a.message)t=e.message,n=e.level;else if((e=>void 0!==e.status)(e))switch(e.status){case"error":n="error",t=e.error}var a;switch(n){case"error":case"warning":H.error(t);break;case"info":H.success(t)}},J=`${window.location.host}${document.location.pathname}api`,Q=new class{constructor(e){this.requests=new Map,this.transactionNumber=1,this.send=(e,t)=>{if(console.debug("Calling API",{topic:e,payload:t}),e.startsWith("bridge/request/")){const n=`${this.transactionRndPreffix}-${this.transactionNumber++}`,a=new Promise(((e,t)=>{this.requests.set(n,[e,t])}));return this.socket.send(C({topic:e,payload:{...t,transaction:n}})),a}return this.socket.send(C({topic:e,payload:t})),Promise.resolve()},this.urlProvider=async()=>{const e=new URL(this.url);let t=localStorage.getItem(W);return!!localStorage.getItem(Z)&&(t||(t=prompt("enter your z2m admin token"),localStorage.setItem(W,t)),e.searchParams.append("token",t)),e.toString()},this.procsessBridgeMessage=e=>{switch(e.topic){case"bridge/config":q.setState({bridgeConfig:e.payload});break;case"bridge/info":q.setState({bridgeInfo:e.payload});break;case"bridge/state":q.setState({bridgeState:e.payload});break;case"bridge/devices":{const t=new Map;U()(e.payload,"friendly_name").forEach((e=>{const n={...e};n.endpoints=new Map(Object.entries(e.endpoints)),t.set(e.ieee_address,n)})),q.setState({devices:t})}break;case"bridge/groups":q.setState({groups:e.payload});break;case"bridge/event":break;case"bridge/extensions":{const t=e.payload;q.setState({extensions:t})}break;case"bridge/logging":{const{logs:t}=q.getState(),n=[...t.slice(-100)];n.push(e.payload),q.setState({logs:n});const a=e.payload;z.every((e=>!e.test(a.message)))&&V(a)}break;case"bridge/response/networkmap":{const t=e.payload;if("ok"==t.status){const{value:e}=t.data;q.setState({networkGraphIsLoading:!1,networkGraph:g(e)})}else q.setState({networkGraphIsLoading:!1})}break;case"bridge/response/touchlink/scan":{const{status:t,data:n}=e.payload;"ok"===t?q.setState({touchlinkScanInProgress:!1,touchlinkDevices:n.found}):q.setState({touchlinkScanInProgress:!1})}break;case"bridge/response/touchlink/identify":q.setState({touchlinkIdentifyInProgress:!1});break;case"bridge/response/touchlink/factory_reset":q.setState({touchlinkResetInProgress:!1})}e.topic.startsWith("bridge/response/")&&(V(e.payload),this.resolvePromises(e.payload))},this.onClose=e=>{4401===e.code&&(localStorage.setItem(Z,"true"),localStorage.removeItem(W),H.error("Unauthorized"),setTimeout((()=>{window.location.reload()}),1e3))},this.onMessage=e=>{let t={};try{t=JSON.parse(e.data)}catch(t){H.error(t.message),H.error(e.data)}if(t.topic.startsWith("bridge/"))this.procsessBridgeMessage(t);else{const{deviceStates:e}=q.getState(),n=new Map(e);n.set(t.topic,{...n.get(t.topic),...t.payload}),q.setState({deviceStates:n})}},this.url=e,this.transactionRndPreffix=E(5)}connect(){this.socket=new T.Z(this.urlProvider),this.socket.addEventListener("message",this.onMessage),this.socket.addEventListener("close",this.onClose)}resolvePromises(e){const{transaction:t,status:n}=e;if(void 0!==t&&this.requests.has(t)){const[e,a]=this.requests.get(t);"ok"==n||null==n?e():a(),this.requests.delete(t)}}}(`${"https:"===location.protocol?"wss":"ws"}://${J}`),K={setPermitJoin:(e,t=!0,n)=>Q.send("bridge/request/permit_join",{value:t,device:null==n?void 0:n.friendly_name}),updateBridgeConfig:(e,t)=>Q.send("bridge/request/options",{options:t}),restartBridge:e=>Q.send("bridge/request/restart",{})},Y={renameDevice:(e,t,n,a)=>Q.send("bridge/request/device/rename",{from:t,to:n,homeassistant_rename:a}),removeDevice:(e,t,n,a)=>Q.send("bridge/request/device/remove",{id:t,force:n,block:a}),configureDevice:(e,t)=>Q.send("bridge/request/device/configure",{id:t}),setDeviceOptions:(e,t,n)=>Q.send("bridge/request/device/options",{id:t,options:n})},X={createGroup:(e,t,n)=>{const a={friendly_name:t};return n&&(a.id=n),Q.send("bridge/request/group/add",a)},removeGroup:(e,t)=>Q.send("bridge/request/group/remove",{id:t}),addDeviceToGroup:(e,t,n)=>Q.send("bridge/request/group/members/add",{group:n,device:t}),removeDeviceFromGroup:(e,t,n)=>Q.send("bridge/request/group/members/remove",{device:t,group:n}),renameGroup:(e,t,n)=>Q.send("bridge/request/group/rename",{from:t,to:n})},ee={setStateValue:(e,t,n,a)=>Q.send(`${t}/set`,{[n]:a}),setDeviceState:(e,t,n)=>Q.send(`${t}/set`,n),getDeviceState:(e,t,n)=>Q.send(`${t}/get`,n)},te={checkOTA:(e,t)=>Q.send("bridge/request/device/ota_update/check",{id:t}),updateOTA:(e,t)=>Q.send("bridge/request/device/ota_update/update",{id:t})},ne=(e,t)=>Q.send(`bridge/request/device/${e}`,t),ae={addBind:(e,t)=>ne("bind",t),removeBind:(e,t)=>ne("unbind",t)},re={touchlinkScan:e=>(q.setState({touchlinkScanInProgress:!0,touchlinkDevices:[]}),Q.send("bridge/request/touchlink/scan",{value:!0})),touchlinkIdentify:(e,t)=>(q.setState({touchlinkIdentifyInProgress:!0}),Q.send("bridge/request/touchlink/identify",t)),touchlinkReset:(e,t)=>(q.setState({touchlinkResetInProgress:!0}),Q.send("bridge/request/touchlink/factory_reset",t))},se={updateExtensionCode:(e,t)=>{const{extensions:n}=q.getState(),a=n.filter((e=>e.name!==t.name)).concat([t]);return q.setState({extensions:a}),Promise.resolve()},saveExtensionCode:(e,t)=>Q.send("bridge/request/extension/save",t),removeExtension:(e,t)=>{const{extensions:n}=q.getState(),a=n.filter((e=>e.name!==t.name));return q.setState({extensions:a}),Q.send("bridge/request/extension/remove",{name:t.name})}},le=e=>({...K,...Y,...X,...ee,...te,...ae,...re,...se,networkMapRequest:t=>(e.setState({networkGraphIsLoading:!0,networkGraph:{nodes:[],links:[]}}),Q.send("bridge/request/networkmap",{type:"raw",routes:!1})),exportState:e=>(k(e,"state.json"),Promise.resolve()),configureReport:(e,t,n)=>Q.send("bridge/request/device/configure_reporting",{id:t,...n}),setTheme:(t,n)=>((e=>{localStorage.setItem("theme",e)})(n),e.setState({theme:n}),Promise.resolve())});class ie extends a.Component{constructor(){super(...arguments),this.onClick=()=>{const{item:e,onClick:t,promt:n}=this.props;let a=!0;n&&(a=confirm("string"==typeof n?n:"Are you sure?")),a&&t&&t(e)}}render(){const{children:e,item:t,promt:n,...r}=this.props;return a.createElement("button",Object.assign({type:"button"},r,{onClick:this.onClick}),e)}}var oe=n(85961),ce=n(58571),me=n(11572),de=n(77715),ue=n(26464),pe=n(32878),he=n(62289),ve=n(94912);const ge=[{title:"IsParent",relationship:D.NeigbhorIsParent},{title:"IsAChild",relationship:D.NeigbhorIsAChild},{title:"IsASibling",relationship:D.NeigbhorIsASibling},{title:"NoneOfTheAbove",relationship:D.NoneOfTheAbove}],Ee=()=>a.createElement("div",{className:"d-flex align-items-center"},a.createElement("strong",null,"Loading, please wait."),a.createElement("div",{className:"spinner-border me-2",role:"status"},a.createElement("span",{className:"sr-only"},"Loading...")));var fe=n(25325),be=n.n(fe);const ye=[D.NeigbhorIsAChild,D.NeigbhorIsParent],ke=e=>"Router2Router"===e.linkType?1:ye.includes(e.relationship)?.5:0,Ne={BrokenLink:500,Router2Router:250,Coordinator2Router:250,Coordinator2EndDevice:100,EndDevice2Router:100},Ce=e=>{var t;return null!==(t=Ne[e.linkType])&&void 0!==t?t:250};class Se extends a.Component{constructor(){super(...arguments),this.ref=(0,a.createRef)(),this.svgRef=(0,a.createRef)(),this.simulation=(0,oe.Z)(),this.state={width:0,height:0,visibleLinks:ye,legendIsVisible:!0},this.transform=ve.CR,this.updateNodes=()=>{var e;const{networkGraph:t}=this.props;if(!t.nodes.length)return;const{visibleLinks:n,selectedNode:a,width:s,height:l}=this.state,o=(0,i.Z)(this.svgRef.current),c=o.selectAll(`.${r.node}`),m=o.selectAll(`.${r.link}`),d=o.selectAll(`.${r.linkLabel}`),u=t.links.filter((e=>be()(n,e.relationships).length));this.simulation.nodes(t.nodes.concat(u)),null===(e=this.simulation.force("link"))||void 0===e||e.links(u),this.simulation.on("tick",(()=>(({transform:e,node:t,link:n,linkLabel:a,links:r})=>{r.forEach((t=>{const[n,a]=e.apply([t.source.x,t.source.y]),[r,s]=e.apply([t.target.x,t.target.y]);t.x=(r+n)/2,t.y=(s+a)/2})),n.attr("d",(t=>((e,t)=>{const n=e.source,a=e.target,[r,s]=t.apply([n.x,n.y]),[l,i]=t.apply([a.x,a.y]);return`M ${r} ${s} L ${l} ${i}`})(t,e))),a.attr("x",(({source:t,target:n})=>e.applyX((t.x+n.x)/2))).attr("y",(({source:t,target:n})=>e.applyY((t.y+n.y)/2))),t.attr("transform",(t=>{const[n,a]=e.apply([t.x,t.y]);return`translate(${n-16}, ${a-16})`}))})({transform:this.transform,node:c,link:m,linkLabel:d,links:u})));const p=o.selectAll(".everything");(0,ve.sP)().extent([[0,0],[s,l]]).scaleExtent([.1,8]).on("zoom",(({transform:e})=>{p.attr("transform",e)}))(o),(({networkGraph:e,links:t,selectedNode:n,node:a,link:r,linkLabel:s})=>{const l=new Set;e.nodes.forEach((e=>l.add(e.ieeeAddr+","+e.ieeeAddr))),t.forEach((e=>l.add(e.sourceIeeeAddr+","+e.targetIeeeAddr)));const i=(e,t)=>l.has(e.ieeeAddr+","+t.ieeeAddr),o=e=>e.source===n||e.target===n?1:.15;n?(a.style("opacity",(e=>i(n,e)||i(e,n)?1:.15)),r.style("stroke-opacity",o),s.style("opacity",o)):(a.style("opacity",1),r.style("stroke-opacity",1),s.style("opacity",1))})({networkGraph:t,links:u,selectedNode:a,node:c,link:m,linkLabel:d}),c.on("click",((e,t)=>{const{selectedNode:n}=this.state;this.setState({selectedNode:n?null:t})})),this.simulation.alphaTarget(.03).restart()},this.initPage=()=>{const{width:e,height:t}=this.ref.current.getBoundingClientRect();this.setState({width:e,height:t}),this.updateForces(e,t)},this.onRequestClick=()=>{const{networkMapRequest:e}=this.props;e()},this.onLinkTypeFilterChange=e=>{const{visibleLinks:t}=this.state,{checked:n,value:a}=e.target,r=parseInt(a,10);let s=[...t];n?s.push(r):s=s.filter((e=>e!==r)),this.setState({visibleLinks:s})}}updateForces(e,t){this.simulation=this.simulation.force("link",(0,ce.Z)().id((e=>e.ieeeAddr)).distance(Ce).strength(ke)).force("charge",(0,he.Z)().strength(-700)).force("collisionForce",(0,me.Z)()).force("center",(0,de.Z)(e/2,t/2)).force("x",(0,ue.Z)().strength(.1)).force("y",(0,pe.Z)().strength(.2))}componentDidMount(){setTimeout(this.initPage,200)}componentDidUpdate(){this.updateNodes()}renderMap(){const{width:e,height:t,visibleLinks:n}=this.state,{networkGraph:r}=this.props,s=r.links.filter((e=>be()(n,e.relationships).length>0));return a.createElement("svg",{ref:this.svgRef,viewBox:`0 0 ${e} ${t}`},a.createElement("g",{className:"everything"},a.createElement(m,{links:s}),a.createElement(A,{root:this.svgRef.current,nodes:r.nodes,simulation:this.simulation})))}renderMessage(){const{networkGraphIsLoading:e}=this.props;return a.createElement("div",{className:"h-100 d-flex justify-content-center align-items-center"},e?a.createElement("div",null,a.createElement(Ee,null),a.createElement("div",null,"Depending on the size of your network this can take somewhere between 10 seconds and 2 minutes.")):a.createElement(ie,{onClick:this.onRequestClick,className:"btn btn-primary d-block"},"Load map"))}renderMapControls(){const{visibleLinks:e}=this.state;return a.createElement("div",{className:r.controls},ge.map((t=>a.createElement("div",{key:t.title,className:"form-check form-check-inline"},a.createElement("input",{onChange:this.onLinkTypeFilterChange,className:"form-check-input",type:"checkbox",id:t.title,value:t.relationship,checked:e.includes(t.relationship)}),a.createElement("label",{className:"form-check-label",htmlFor:t.title},t.title)))),a.createElement("div",{className:"btn-group btn-group-sm",role:"group"},a.createElement(ie,{title:"Refresh data",className:"btn btn-primary",onClick:this.onRequestClick},a.createElement("i",{className:"fa fa-sync"}))))}renderHelp(){const{legendIsVisible:e}=this.state;return a.createElement("div",{className:l()("fixed-bottom",{"d-none":!e}),onClick:()=>this.setState({legendIsVisible:!1})},a.createElement("div",{className:l()(r.node,r.Coordinator)},a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28"},a.createElement("polygon",{points:R(5,5,14)}))," is Coordinator"),a.createElement("div",{className:l()(r.node,r.EndDevice)},"Green means End Device"),a.createElement("div",{className:l()(r.node,r.Router)},"Blue means Router"),a.createElement("div",null,"Solid lines are the link to the ",a.createElement("span",{className:l()(r.node,r.Coordinator)},"Coordinator")),a.createElement("div",null,"Dashed lines are the link with ",a.createElement("span",{className:l()(r.node,r.Coordinator)},"Router")),a.createElement("div",null,"Link quality is between 0 - 255 (higher is better), values with / represents multiple types of links"),a.createElement("div",null,"Click on me to hide"))}render(){const{networkGraph:e}=this.props;return a.createElement("div",{className:r.container,ref:this.ref},e.nodes.length?a.createElement(a.Fragment,null,this.renderMapControls()," ",this.renderMap()):this.renderMessage(),this.renderHelp())}}const _e=(0,I.$)(["networkGraph","networkGraphIsLoading"],le)(Se);var we=n(73727),xe=n(5977),Re=n(73935);const Oe=e=>a.createElement("div",{className:"modal-header"},e.children),Ae=e=>a.createElement("div",{className:"modal-body"},e.children),De=e=>a.createElement("div",{className:"modal-footer"},e.children);class Ie extends a.Component{constructor(e){super(e),this.el=document.createElement("div"),"modal-backdrop fade show".split(" ").map((e=>this.el.classList.add(e)))}componentDidMount(){document.body.appendChild(this.el)}componentWillUnmount(){document.body.removeChild(this.el)}render(){return Re.createPortal(this.props.children,this.el)}}class Te extends a.Component{constructor(){super(...arguments),this.openModal=()=>{document.body.classList.add("modal-open")},this.closeModal=()=>{document.body.classList.remove("modal-open")}}componentDidMount(){this.props.isOpen?this.openModal():this.closeModal()}componentDidUpdate(e){e.isOpen!==this.props.isOpen&&(this.props.isOpen?this.openModal():this.closeModal())}render(){const{isOpen:e}=this.props;return e&&a.createElement("div",{className:"modal fade show",style:{display:"block"}},a.createElement("div",{className:"modal-dialog"},a.createElement("div",{className:"modal-content"},this.props.children)),a.createElement(Ie,null))}}const $e=Te;class Me extends a.Component{constructor(){super(...arguments),this.state={isRenameModalOpened:!1,isDeviceRemovalModalOpened:!1,renameParams:{friendlyName:this.props.device.friendly_name,isHassRename:!1},removeParams:{block:!1,force:!1}},this.onRenameClick=async()=>{const{renameDevice:e,device:t}=this.props,{renameParams:n}=this.state;await e(t.friendly_name,n.friendlyName,n.isHassRename),this.setState({isRenameModalOpened:!1})},this.onRemoveClick=()=>{const{removeDevice:e,device:t}=this.props,{removeParams:n}=this.state;e(t.friendly_name,n.force,n.block),this.setState({isDeviceRemovalModalOpened:!1})},this.toggleRenameModal=()=>{const{isRenameModalOpened:e}=this.state;this.setState({isRenameModalOpened:!e})},this.toggleDeviceRemovalModal=()=>{const{isDeviceRemovalModalOpened:e}=this.state;this.setState({isDeviceRemovalModalOpened:!e})},this.onHassEntityIdChange=e=>{const{renameParams:t}=this.state,{checked:n}=e.target;t.isHassRename=n,this.setState({renameParams:t})},this.onFriendlyNameChange=e=>{const{renameParams:t}=this.state,{value:n}=e.target;t.friendlyName=n,this.setState({renameParams:t})},this.onDeviceRemovalParamChange=e=>{const{removeParams:t}=this.state,{checked:n,name:a}=e.target;t[a]=n,this.setState({removeParams:t})}}renderRenameButton(){var e;const{bridgeInfo:t,device:n}=this.props,{isRenameModalOpened:r,renameParams:s}=this.state;return a.createElement(a.Fragment,null,a.createElement(ie,{className:"btn btn-primary",onClick:this.toggleRenameModal,title:"Rename device"},a.createElement("i",{className:"fa fa-edit"})),a.createElement($e,{isOpen:r},a.createElement(Oe,null,a.createElement("h3",null,"Rename device"),a.createElement("small",null,n.friendly_name)),a.createElement(Ae,null,a.createElement("div",{className:"mb-3"},a.createElement("label",{htmlFor:`fn${n.ieee_address}`,className:"form-label"},"Friendly name"),a.createElement("input",{id:`fn${n.ieee_address}`,onChange:this.onFriendlyNameChange,type:"text",className:"form-control",value:s.friendlyName})),(null===(e=null==t?void 0:t.config)||void 0===e?void 0:e.homeassistant)?a.createElement("div",{className:"form-check form-switch"},a.createElement("input",{className:"form-check-input",checked:s.isHassRename,type:"checkbox",id:`hass${n.ieee_address}`,onChange:this.onHassEntityIdChange}),a.createElement("label",{className:"form-check-label",htmlFor:`hass${n.ieee_address}`},"Update Home Assistant entity ID")):null),a.createElement(De,null,a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.toggleRenameModal},"Close"),a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.onRenameClick},"Save changes"))))}renderDeviceRemovalButton(){const{device:e}=this.props,{isDeviceRemovalModalOpened:t,removeParams:n}=this.state,r=[{label:"Force remove",name:"force",value:n.force},{label:"Block from joining again",name:"block",value:n.block}];return a.createElement(a.Fragment,null,a.createElement($e,{isOpen:t},a.createElement(Oe,null,a.createElement("h3",null,"Remove device"),a.createElement("small",null,e.friendly_name)),a.createElement(Ae,null,r.map((t=>{const n=`${t.name}${e.ieee_address}`;return a.createElement("div",{key:t.name,className:"form-check form-switch"},a.createElement("input",{className:"form-check-input",name:t.name,checked:t.value,type:"checkbox",id:n,onChange:this.onDeviceRemovalParamChange}),a.createElement("label",{className:"form-check-label",htmlFor:n},t.label))}))),a.createElement(De,null,a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.toggleDeviceRemovalModal},"Close"),a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.onRemoveClick},"Delete"))),a.createElement("button",{onClick:this.toggleDeviceRemovalModal,className:"btn btn-danger",title:"Remove device"},a.createElement("i",{className:l()("fa","fa-trash")})))}render(){const{device:e,configureDevice:t}=this.props;return a.createElement("div",{className:"btn-group btn-group-sm",role:"group"},this.renderRenameButton(),a.createElement(ie,{className:"btn btn-warning",onClick:t,item:e.friendly_name,title:"Reconfigure",promt:!0},a.createElement("i",{className:l()("fa","fa-retweet")})),this.renderDeviceRemovalButton())}}const je=(0,I.$)(["bridgeInfo"],le)(Me);var Fe=n(27361),Le=n.n(Fe);const Pe=e=>{const t=new RegExp("[/| |:]","g");return e.replace(t,"_")},qe=e=>{var t;const{device:n}=e;if(n.supported&&n.definition){const e=`https://www.zigbee2mqtt.io/information/supported_devices.html#${encodeURIComponent(Pe(null===(t=n.definition.vendor)||void 0===t?void 0:t.toLowerCase()))}`;return a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e},n.definition.vendor)}return a.createElement(a.Fragment,null,"Unsupported")},Ge=e=>{var t,n,r,s,l;const{device:i,anchor:o}=e;let c="https://www.zigbee2mqtt.io/how_tos/how_to_support_new_devices.html#how-to-support-new-devices",m=i.model_id;if(i.supported&&i.definition){const e=[encodeURIComponent(null===(n=null===(t=i.definition)||void 0===t?void 0:t.vendor)||void 0===n?void 0:n.toLowerCase()),encodeURIComponent(null===(s=null===(r=i.definition)||void 0===r?void 0:r.model)||void 0===s?void 0:s.toLowerCase())].join("-");c=`https://www.zigbee2mqtt.io/devices/${encodeURIComponent(Pe(null===(l=i.definition)||void 0===l?void 0:l.model))}.html#${encodeURIComponent(Pe(o||e))}`,m=i.definition.model}return a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:c},m)},Be=({source:e,battery:t,batteryLow:n,showLevel:r,...s})=>{let l="",i="";switch(e){case"Battery":if(i="Battery",void 0!==n&&(l=n?"fa-battery-empty animation-blinking text-danger":"fa-battery-full text-success",i+=n?" LOW":" OK"),void 0!==t)if(t>=85)l+=" fa-battery-full";else if(t>=75)l+=" fa-battery-three-quarters";else if(t>=50)l+=" fa-battery-half";else if(t>=25)l+=" fa-battery-quarter";else{if(!(t>=10))return a.createElement("span",{className:"animation-blinking text-danger",role:"alert"},t,"%");l+=" fa-battery-empty animation-blinking"}return i+=t?`, power level ${t}%`:"",l||(l="fa-question"),a.createElement(a.Fragment,null,r?a.createElement("span",{className:"pe-2"},"Battery ",void 0!==t?`${t}%`:null):null,a.createElement("i",Object.assign({className:`fa ${l}`,title:i},s)));case"Mains (single phase)":case"DC Source":return a.createElement("i",Object.assign({className:"fa fa-plug _2Qj8QVth6tVVFe6VESug0N",title:e},s));default:return a.createElement("i",Object.assign({className:"fa fa-question",title:e},s))}},Ue=/\[(.*?)\]\((.*?)\)/,We=[{label:"Friendly name",render:e=>a.createElement("dd",{className:"col-12 col-md-7"},a.createElement("strong",null,e.friendly_name))},{key:"type",label:"Device type"},{key:"model_id",label:"Zigbee model"},{key:"definition.description",label:"Description",if:"supported",render:e=>{var t,n;const r=Ue.exec(null===(t=e.definition)||void 0===t?void 0:t.description);let s=a.createElement("span",null,null===(n=e.definition)||void 0===n?void 0:n.description);if(r){const[e,t,n]=r;s=a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:n},t)}return a.createElement("dd",{className:"col-12 col-md-7"},s)}},{render:e=>a.createElement("dd",{className:"col-12 col-md-7"},a.createElement("p",{className:l()("mb-0","font-weight-bold",{"text-danger":!e.supported,"text-success":e.supported})},e.supported?"Supported":"Unsupported")),label:"Support status"},{render:e=>{var t;return a.createElement("dd",{className:"col-12 col-md-7"},null===(t=e.definition)||void 0===t?void 0:t.supports)},label:"Supports",if:"definition.supports"},{key:"ieee_address",label:"IEEE address"},{key:"network_address",label:"Network address",render:e=>a.createElement("dd",{className:"col-12 col-md-7"},h(e.network_address))},{key:"date_code",label:"Firmware build date",if:"date_code"},{key:"software_build_id",label:"Firmware version",if:"software_build_id"},{key:"definition.vendor",label:"Vendor",if:"supported",render:e=>a.createElement("dd",{className:"col-12 col-md-7"},a.createElement(qe,{device:e}))},{key:"definition.model",label:"Model",if:"supported",render:e=>a.createElement("dd",{className:"col-12 col-md-7"},a.createElement(Ge,{device:e}))},{label:"Power source",render:(e,t)=>a.createElement("dd",{className:"col-12 col-md-7"},a.createElement(Be,{showLevel:!0,source:e.power_source,battery:t.battery,batteryLow:t.battery_low}))},{label:"Interview completed",render:e=>a.createElement("dd",{className:"col-12 col-md-7"},e.interview_completed?"Yes":"No")}];class Ze extends a.Component{render(){var e;const{device:t,deviceStates:n}=this.props,r=null!==(e=n.get(t.friendly_name))&&void 0!==e?e:{};return a.createElement(a.Fragment,null,a.createElement("div",{className:"d-flex justify-content-center"},a.createElement(w,{className:"card-img-top w-auto _2UWt6cv5iKbBWQ1njU-Knh",device:t,deviceStatus:r})),a.createElement("dl",{className:"row"},We.filter((e=>void 0===e.if||Le()(t,e.if,!1))).map((e=>a.createElement(a.Fragment,{key:e.label},a.createElement("dt",{className:"col-12 col-md-5"},e.label),e.render?e.render(t,r):a.createElement("dd",{className:"col-12 col-md-7"},Le()(t,e.key)))))),a.createElement(je,{device:t,state:r}))}}const He=(0,I.$)(["deviceStates"])(Ze);class ze extends a.Component{constructor(){super(...arguments),this.onSelect=e=>{const{onChange:t,devices:n,groups:a=[]}=this.props,{value:r}=e.target;n.has(r)?t(n.get(r),"device"):t(a.find((e=>parseInt(r,10)===e.id)),"group")}}render(){const{devices:e,groups:t,value:n,type:r,label:s,onChange:l,...i}=this.props;let o=[a.createElement("option",{key:"hidden",hidden:!0},"Select device")];const c=[];if(e.forEach((e=>{var t;c.push(a.createElement("option",{title:null===(t=e.definition)||void 0===t?void 0:t.description,key:e.ieee_address,value:e.ieee_address},(e=>{var t,n;return`${e.friendly_name} ${(null===(t=e.definition)||void 0===t?void 0:t.model)?`(${null===(n=e.definition)||void 0===n?void 0:n.model})`:""}`})(e)))})),t&&t.length){const e=t.map((e=>a.createElement("option",{key:e.friendly_name,value:e.id},e.friendly_name)));o.push(a.createElement("optgroup",{key:"Groups",label:"Groups"},e)),o.push(a.createElement("optgroup",{key:"Devices",label:"Devices"},c))}else o=o.concat(c);return a.createElement("div",{className:"form-group"},s&&a.createElement("label",{className:"form-label"},s),a.createElement("select",Object.assign({value:n,onChange:this.onSelect,className:"form-control"},i),o))}}class Ve extends a.Component{constructor(){super(...arguments),this.onSelect=e=>{const{onChange:t}=this.props,{value:n}=e.target;t(n)}}render(){const{onSelect:e,value:t,values:n,disabled:r,onChange:s,label:l,...i}=this.props,o=1==n.length,c=n.map((e=>a.createElement("option",{key:e,value:e},e)));return c.unshift(a.createElement("option",{key:"hidded",hidden:!0},"Select endpoint")),a.createElement("div",{className:"form-group"},l&&a.createElement("label",{className:"form-label"},l),a.createElement("select",Object.assign({disabled:t&&o||r,value:t,className:"form-control",title:o?"The only endpoint":"",onChange:this.onSelect},i),c))}}const Je={genPowerCfg:"PowerCfg",genScenes:"Scenes",genOnOff:"OnOff",genLevelCtrl:"LevelCtrl",lightingColorCtrl:"LColorCtrl",closuresWindowCovering:"Closures",genMultistateInput:"MultistateInput",genGroups:"Groups",genOta:"Ota",touchlink:"Touchlink",genIdentify:"Identify",msTemperatureMeasurement:"Temperature",msIlluminanceMeasurement:"Illuminance",msRelativeHumidity:"Humidity",msPressureMeasurement:"Pressure",msSoilMoisture:"Soil Moisture"};var Qe;function Ke(e){return e.length>0&&"string"!=typeof e[0]}!function(e){e[e.MULTIPLE=0]="MULTIPLE",e[e.SINGLE=1]="SINGLE"}(Qe||(Qe={}));class Ye extends a.Component{constructor(){super(...arguments),this.state={pickerId:E(5)},this.onChange=e=>{const{onChange:t,pickerType:n}=this.props;let{value:a}=this.props;const{name:r}=e.target;if(n===Qe.MULTIPLE){const{checked:t}=e.target;t?a.push(r):a=a.filter((e=>e!==r))}else{const{value:t}=e.target;a=t}t(a)}}render(){const{pickerType:e}=this.props;return e===Qe.MULTIPLE?this.renderMultiPicker():this.renderSinglePicker()}renderMultiPicker(){const{pickerId:e}=this.state,{clusters:t=[],value:n,pickerType:r,onChange:s,label:l,...i}=this.props;let o=[];return Ke(t)?console.warn("Not implemented"):o=t.map((t=>{var r;return a.createElement("div",{key:t,className:"form-check form-check-inline"},a.createElement("input",Object.assign({className:"form-check-input",type:"checkbox",checked:n.includes(t),name:t,id:`${e}_${t}`,value:t,onChange:this.onChange},i)),a.createElement("label",{className:"form-check-label",htmlFor:`${e}_${t}`,title:t},null!==(r=Je[t])&&void 0!==r?r:t))})),a.createElement("div",{className:"form-group"},l&&a.createElement("label",{className:"form-label"},l),a.createElement("div",{className:"form-control border-0"},o))}renderSinglePicker(){const{clusters:e=[],onChange:t,pickerType:n,label:r,...s}=this.props,l=[a.createElement("option",{key:"hidden",hidden:!0},"Select cluster")];return Ke(e)?e.forEach((e=>{const t=e.clusters.map((e=>{var t;return a.createElement("option",{key:e,value:e},null!==(t=Je[e])&&void 0!==t?t:e)}));0===t.length&&t.push(a.createElement("option",{key:"none",disabled:!0},"None")),l.push(a.createElement("optgroup",{key:e.name,label:e.name},t))})):e.forEach((e=>{var t;l.push(a.createElement("option",{key:e,value:e},null!==(t=Je[e])&&void 0!==t?t:e))})),a.createElement("div",{className:"form-group"},r&&a.createElement("label",{className:"form-label"},r),a.createElement("select",Object.assign({className:"form-select",onChange:this.onChange},s),l))}}class Xe extends a.Component{constructor(){super(...arguments),this.state={stateRule:{}},this.setSourceEp=e=>{const{stateRule:t}=this.state;t.source.endpoint=e,this.setState({stateRule:t})},this.setDestination=(e,t)=>{const{stateRule:n}=this.state;if("device"===t){const t=N(e);n.target.ieee_address=e.ieee_address,n.target.type="endpoint",n.target.endpoint=t[0],delete n.target.id}else"group"===t&&(n.target.id=e.id,n.target.type="group",delete n.target.ieee_address);n.clusters=[],this.setState({stateRule:n})},this.setDestinationEp=e=>{const{stateRule:t}=this.state;t.target.endpoint=e,t.clusters=[],this.setState({stateRule:t})},this.setClusters=e=>{const{stateRule:t}=this.state;t.clusters=e,this.setState({stateRule:t})},this.onBindOrUnBindClick=e=>{const{onUnBind:t,onBind:n}=this.props,{from:a,to:r,clusters:s}=this.getBidningParams();"Bind"==e?n({from:a,to:r,clusters:s}):t({from:a,to:r,clusters:s})}}static getDerivedStateFromProps(e,t){const{rule:n}=e;return{stateRule:n}}getBidningParams(){var e;const{device:t,groups:n,devices:a}=this.props,{stateRule:r}=this.state,s=`${t.friendly_name}/${r.source.endpoint}`;let l="";if("group"===r.target.type)l=`${n.find((e=>e.id===r.target.id)).friendly_name}`;else if("endpoint"===r.target.type){const t=a.get(null===(e=r.target)||void 0===e?void 0:e.ieee_address);l="Coordinator"===t.type?`${t.friendly_name}`:`${t.friendly_name}/${r.target.endpoint}`}return{from:s,to:l,clusters:r.clusters}}isValidRule(){const{stateRule:e}=this.state;let t;return"endpoint"==e.target.type?t=e.source.endpoint&&e.target.ieee_address&&e.target.endpoint&&e.clusters.length>0:"group"==e.target.type&&(t=e.source.endpoint&&e.target.id&&e.clusters.length>0),!!t}render(){const{devices:e,groups:t,idx:n,device:r}=this.props,{stateRule:s}=this.state,l="endpoint"===s.target.type?"device":"group",i=N(r),o=((e,t,n)=>{var a;return"group"===e.target.type?n.find((t=>t.id===e.target.id)):t.get(null===(a=e.target)||void 0===a?void 0:a.ieee_address)})(s,e,t),c=N(o),m=new Set(s.clusters),d=r.endpoints.get(s.source.endpoint);return d&&d.clusters.output.forEach((e=>m.add(e))),a.createElement("div",{className:"row pb-2 border-bottom"},a.createElement("div",{className:"col-md-2"},a.createElement(Ve,{label:"Source EP",disabled:!s.isNew,values:i,value:s.source.endpoint,onChange:this.setSourceEp})),a.createElement("div",{className:"col-md-2"},a.createElement(ze,{label:"Destination",disabled:!s.isNew,type:l,value:s.target.ieee_address||s.target.id,devices:e,groups:t,onChange:this.setDestination})),a.createElement("div",{className:"col-md-2"},"endpoint"===s.target.type?a.createElement(Ve,{label:"Destination EP",disabled:!s.isNew,values:c,value:s.target.endpoint,onChange:this.setDestinationEp}):null),a.createElement("div",{className:"col-md-4"},a.createElement(Ye,{label:"Clusters",pickerType:Qe.MULTIPLE,clusters:Array.from(m),value:s.clusters,onChange:this.setClusters})),a.createElement("div",{className:"col-md-2"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"form-label"},"Actions"),a.createElement("div",{className:"form-control border-0"},a.createElement("div",{className:"btn-group btn-group-sm"},a.createElement(ie,{item:"Bind",disabled:!this.isValidRule(),title:"Bind",className:"btn btn-primary",onClick:this.onBindOrUnBindClick},"Bind ",a.createElement("i",{className:"fa fa-heart"})),a.createElement(ie,{item:"Unbind",disabled:!s.isNew&&!this.isValidRule(),title:"Unbind",className:"btn btn-danger",onClick:this.onBindOrUnBindClick},a.createElement("i",{className:"fa fa-heart-broken"})," Unbind"))))))}}const et=e=>`${e.source.endpoint}-${e.isNew}${e.source.ieee_address}-${e.target.id}-${e.target.ieee_address}-${e.clusters.join("-")}`;class tt extends a.Component{constructor(){super(...arguments),this.state={bidingRules:[]}}static getDerivedStateFromProps(e){const{device:t}=e,n=N(t),a=(e=>{const t={};return e.endpoints.forEach(((n,a)=>{n.bindings.forEach((n=>{var r;let s=null!==(r=n.target.id)&&void 0!==r?r:`${n.target.ieee_address}-${n.target.endpoint}`;s=`${s}-${a}`,t[s]?t[s].clusters.push(n.cluster):t[s]={source:{ieee_address:e.ieee_address,endpoint:a},target:n.target,clusters:[n.cluster]}}))})),Object.values(t)})(t);return a.push({isNew:Date.now(),target:{},source:{ieee_address:t.ieee_address,endpoint:n[0]},clusters:[]}),{bidingRules:a}}renderBody(){const{device:e,devices:t,groups:n,removeBind:r,addBind:s}=this.props,{bidingRules:l}=this.state;return l.map(((l,i)=>a.createElement(Xe,{key:et(l),rule:l,groups:n,onUnBind:r,onBind:s,device:e,idx:i,devices:t})))}render(){return a.createElement("div",{className:"container-fluid"},this.renderBody())}}const nt=(0,I.$)(["devices","groups"],le)(tt);var at=n(73056),rt=n.n(at);class st extends a.Component{constructor(){super(...arguments),this.onChange=e=>{const{onChange:t}=this.props,{value:n}=e.target;t(n)}}render(){const{cluster:e,onChange:t,label:n,value:r,...s}=this.props;let l=[];const i=rt()[e];i&&(l=Object.keys(i.attributes)),l.includes(r)||l.push(r);const o=l.map((e=>a.createElement("option",{key:e,value:e},e)));return o.unshift(a.createElement("option",{key:"none",hidden:!0},"Select attribute")),a.createElement("div",{className:"form-group"},n&&a.createElement("label",{className:"form-label"},n),a.createElement("select",Object.assign({disabled:0===l.length,className:"form-control",onChange:this.onChange,value:r},s),o))}}const lt=(e,t,n)=>{let a=Object.keys(rt()),r=[];const s=e.endpoints.get(t);return s&&(r=r.concat(s.clusters.output),a=a.filter((e=>!r.includes(e)))),r.includes(n)||r.push(n),[{name:"Avaliable",clusters:r},{name:"Possible",clusters:a}]},it=["maximum_report_interval","minimum_report_interval","reportable_change","endpoint","cluster","attribute"],ot=e=>it.every((t=>void 0!==e[t]));class ct extends a.Component{constructor(){super(...arguments),this.state={stateRule:{}},this.setSourceEp=e=>{const{stateRule:t}=this.state;t.endpoint=e,this.setState({stateRule:t})},this.setCluster=e=>{const{stateRule:t}=this.state;t.cluster=e,this.setState({stateRule:t})},this.setAttribute=e=>{const{stateRule:t}=this.state;t.attribute=e,this.setState({stateRule:t})},this.changeHandler=e=>{const{stateRule:t}=this.state,{name:n,value:a}=e.target;t[n]=a,this.setState({stateRule:t})},this.applyRule=()=>{const{onApply:e}=this.props,{stateRule:t}=this.state;e(t)},this.disableRule=()=>{const{onApply:e}=this.props,{stateRule:t}=this.state;e({...t,maximum_report_interval:65535})}}static getDerivedStateFromProps(e,t){const{rule:n}=e;return{stateRule:n}}render(){const{rule:e,device:t}=this.props,{stateRule:n}=this.state,r=N(t);return a.createElement("div",{className:"row pb-2 border-bottom"},a.createElement("div",{className:"col-md-2"},a.createElement(Ve,{label:"Endpoint",disabled:!e.isNew,values:r,value:n.endpoint,onChange:this.setSourceEp})),a.createElement("div",{className:"col-md-2"},a.createElement(Ye,{label:"Cluster",disabled:!n.endpoint,pickerType:Qe.SINGLE,clusters:lt(t,n.endpoint,n.cluster),value:n.cluster,onChange:this.setCluster})),a.createElement("div",{className:"col-md-2"},a.createElement(st,{label:"Attribute",value:n.attribute,cluster:n.cluster,onChange:this.setAttribute})),a.createElement("div",{className:"col-md-2"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"form-label text-nowrap"},"Min rep interval"),a.createElement("input",{onChange:this.changeHandler,value:n.minimum_report_interval,required:!0,type:"number",name:"minimum_report_interval",className:"form-control"}))),a.createElement("div",{className:"col-md-1"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"form-label text-nowrap"},"Max rep interval"),a.createElement("input",{onChange:this.changeHandler,value:n.maximum_report_interval,required:!0,type:"number",name:"maximum_report_interval",className:"form-control"}))),a.createElement("div",{className:"col-md-1"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"form-label text-nowrap"},"Min rep change"),a.createElement("input",{placeholder:"Enter 65535 to disable reporting",onChange:this.changeHandler,value:n.reportable_change,required:!0,type:"number",name:"reportable_change",className:"form-control"}))),a.createElement("div",{className:"col-md-2"},a.createElement("div",{className:"form-group"},a.createElement("label",{className:"form-label"},"Actions"),a.createElement("div",{className:"form-group"},a.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic example"},a.createElement(ie,{disabled:!ot(n),className:"btn btn-primary",onClick:this.applyRule},"Apply"),n.isNew?null:a.createElement(ie,{promt:!0,className:"btn btn-danger",onClick:this.disableRule},"Disable"))))))}}const mt=e=>`${e.isNew}${e.endpoint}${e.cluster}-${e.attribute}`;class dt extends a.Component{constructor(){super(...arguments),this.state={reportingRules:[]},this.onApply=e=>{const{configureReport:t,device:n}=this.props,{cluster:a,endpoint:r,attribute:s,minimum_report_interval:l,maximum_report_interval:i,reportable_change:o}=e;t(`${n.friendly_name}/${r}`,{cluster:a,attribute:s,minimum_report_interval:l,maximum_report_interval:i,reportable_change:o})}}static getDerivedStateFromProps(e){const{device:t}=e,n=(e=>{const t=[];return e.endpoints.forEach(((e,n)=>{e.configured_reportings.forEach((e=>{t.push({...e,endpoint:n})}))})),t})(t);return n.push({isNew:Date.now(),reportable_change:0,minimum_report_interval:60,maximum_report_interval:3600}),{reportingRules:n}}render(){const{device:e}=this.props,{reportingRules:t}=this.state;return a.createElement("div",{className:"container-fluid"},t.map((t=>a.createElement(ct,{key:mt(t),rule:t,device:e,onApply:this.onApply}))))}}const ut=(0,I.$)(["devices","groups"],le)(dt);class pt extends a.Component{constructor(){super(...arguments),this.setStateValue=(e,t)=>{const{setStateValue:n,device:a}=this.props;n(a.friendly_name,e,t)}}render(){var e;const{device:t,deviceStates:n}=this.props,r=null!==(e=n.get(t.friendly_name))&&void 0!==e?e:{};return a.createElement("pre",null,JSON.stringify(r,null,4))}}const ht=(0,I.$)(["deviceStates"],le)(pt);function vt(e){return"light"===e.type}function gt(e){return"composite"===e.type&&"color_xy"!==e.name&&"color_hs"!==e.name}var Et,ft=n(7739),bt=n.n(ft);!function(e){e[e.NONE=0]="NONE",e[e.ACCESS_STATE=1]="ACCESS_STATE",e[e.ACCESS_WRITE=2]="ACCESS_WRITE",e[e.ACCESS_READ=4]="ACCESS_READ"}(Et||(Et={}));const yt={contact:new Map([[!0,"Closed"],[!1,"Open"]]),occupancy:new Map([[!0,"Occupied"],[!1,"Clear"]]),water_leak:new Map([[!0,a.createElement("span",{className:l()("text-danger","animation-blinking"),key:"Leaking"},"Leaking")],[!1,"Clear"]]),tamper:new Map([[!0,a.createElement("span",{className:l()("text-danger","animation-blinking"),key:"tampered"},"Tampered")],[!1,"Clear"]]),_default:new Map([[!0,"true"],[!1,"false"]])};function kt(e){const{value:t,name:n}=e;switch(typeof t){case"boolean":const e=yt[n]||yt._default;return a.createElement(a.Fragment,null,e.get(t));case"undefined":return a.createElement(a.Fragment,null,"N/A");case"object":return a.createElement(a.Fragment,null,null===t?"null":JSON.stringify(t));case"string":return a.createElement(a.Fragment,null,""===t?a.createElement("small",{className:"text-muted"},"empty string"):t);default:return a.createElement(a.Fragment,null,JSON.stringify(t))}}const Nt=e=>{const{value:t,onClick:n,name:r}=e;return a.createElement(ie,{className:"btn btn-link",item:t,onClick:n},a.createElement(kt,{value:t,name:r}))},Ct=e=>{const{onChange:t,value:n,valueOn:r,valueOff:s,minimal:l,name:i}=e,o=null!=n,c=!l||l&&!o;return a.createElement("div",null,c&&a.createElement(Nt,{value:s,name:i,onClick:t}),o?a.createElement("div",{className:"form-check form-switch form-check-inline align-middle me-0"},a.createElement("input",{className:"form-check-input",type:"checkbox",checked:n===r,onChange:e=>t(e.target.checked?r:s)})):a.createElement("i",{className:"fa fa-question",title:"Current value unknown"}),c&&a.createElement(Nt,{value:r,name:i,onClick:t}))},St=e=>{const{feature:{property:t,unit:n,name:r},deviceState:s}=e;return a.createElement("div",null,a.createElement("strong",null,a.createElement(kt,{value:s[t],name:r})),n?a.createElement("small",{className:"text-muted ms-1"},n):null)},_t=({feature:{access:e}})=>a.createElement("div",{className:"alert alert-warning p-0",role:"alert"},"Unknown acces ",JSON.stringify(e,null,4)),wt=e=>{const{feature:{access:t,endpoint:n,name:r,property:s,value_off:l,value_on:i},deviceState:o,onChange:c,minimal:m}=e;return t&Et.ACCESS_WRITE?a.createElement(Ct,{onChange:e=>c(n,{[s]:e}),value:o[s],valueOn:i,valueOff:l,minimal:m,name:r}):t&Et.ACCESS_STATE?a.createElement(St,Object.assign({},e)):a.createElement(_t,Object.assign({},e))},xt=e=>a.createElement(Vt,Object.assign({type:"climate"},e)),Rt={position:[0,25,50,75,100].map((e=>({value:e,name:e+""}))),tilt:[0,25,50,75,100].map((e=>({value:e,name:e+""})))},Ot=e=>a.createElement(Vt,Object.assign({type:"cover"},e,{stepsConfiguration:Rt}));var At=n(12085);const Dt=(e,t)=>{switch(t){case"color_xy":{const{x:t=0,y:n=0}=e,a=1,r=a/n*t,s=a/n*(1-t-n);return"#"+At.xyz.hex([100*r,100*a,100*s])}case"color_hs":{const{hue:t=0,saturation:n=0}=e;return"#"+At.hsv.hex([t,n,100])}default:return"#FFFFFF"}},It=(e,t)=>{switch(t){case"color_hs":const[t,n,a]=At.hex.hsv(e);return{hue:t,saturation:n};case"color_xy":const[r,s,l]=At.hex.xyz(e);return{x:r/(r+s+l),y:s/(r+s+l)};default:return{hex:e}}},Tt=["#FF0018","#FFA52C","#FFFF41","#008018","#0000F9","#86007D"],$t=e=>{const{onChange:t,value:n={},format:r,steps:s=Tt,minimal:l,...i}=e,[o,c]=(0,a.useState)(Dt(n,r));return(0,a.useEffect)((()=>{c(Dt(n,r))}),[n,r]),a.createElement(a.Fragment,null,!l&&a.createElement("div",{className:"btn-group me-2 float-start"},s.map((e=>a.createElement(ie,{className:"btn",style:{backgroundColor:e},key:e,item:e,title:e,onClick:e=>t(It(e,r))},"   ")))),a.createElement("input",Object.assign({type:"color",className:"form-control form-control-color",value:o,style:{minWidth:40},onChange:e=>{t(It(e.target.value,r))}},i)))},Mt=e=>{var t,n;const{deviceState:r,feature:s,onChange:l,minimal:i}=e,o={};for(const e of s.features)o[e.name]=null!==(n=null===(t=r[s.property])||void 0===t?void 0:t[e.property])&&void 0!==n?n:0;return a.createElement($t,{onChange:e=>l(s.endpoint,{color:e}),value:o,format:s.name,minimal:i})};function jt(e){return null===e||["number","string","undefined"].includes(typeof e)}const Ft=e=>{const{onChange:t,values:n,value:r,minimal:s}=e;if(s){const e=e=>{const a=n.find((t=>jt(t)?t==e.target.value:t.value==e.target.value));t(a)};return a.createElement("select",{className:"form-control",onChange:e,value:jt(r)?r:r.value},a.createElement("option",{key:"hidded",hidden:!0},"----"),n.map((e=>a.createElement("option",{key:jt(e)?e:e.name,value:jt(e)?e:e.value},jt(e)?e:e.name))))}return a.createElement("div",{className:"btn-group me-2"},n.map((e=>a.createElement(ie,{className:l()("btn btn-outline-secondary",{active:jt(e)?e===r:e.value==(jt(r)?r:r.value)}),onClick:e=>t(e),key:jt(e)?e:e.name,item:jt(e)?e:e.value,title:jt(e)?e:e.description},jt(e)?e:e.name))))},Lt=e=>{const{onChange:t,feature:{access:n,name:r,values:s,endpoint:l,property:i},deviceState:o,minimal:c}=e;return n&Et.ACCESS_WRITE?a.createElement(Ft,{onChange:e=>t(l,{[r]:e}),values:s,value:o[i],minimal:c}):n&Et.ACCESS_STATE?a.createElement(St,Object.assign({},e)):a.createElement(_t,Object.assign({},e))},Pt={brightness:[0,25,50,75,100].map((e=>({value:f(e,[0,100],[0,255]),name:e+"%"}))),color_temp:[1e3,2e3,3e3,4e3,5e3,6500].map((e=>({value:1e6/e,name:e+"K"})))},qt=e=>a.createElement(Vt,Object.assign({type:"light"},e,{stepsConfiguration:Pt})),Gt=e=>a.createElement(Vt,Object.assign({type:"lock"},e)),Bt=e=>{const{onChange:t,value:n,min:r,max:s,unit:i,steps:o,minimal:c,...m}=e,[d,u]=(0,a.useState)(E(5)),[p,h]=(0,a.useState)(n);(0,a.useEffect)((()=>{h(n)}),[n]);const v=void 0!==r&&void 0!==s;return a.createElement("div",{className:"input-group align-items-center"},!c&&o?a.createElement(Ft,{values:o,onChange:t,value:p}):null,v?a.createElement("input",Object.assign({id:d,min:r,max:s,type:"range",className:"form-range form-control border-0",value:p,onChange:e=>h(e.target.valueAsNumber),onMouseUp:()=>t(p)},m)):null,(!c||!v)&&a.createElement("input",Object.assign({type:"number",className:l()("form-control",{"ms-1":v}),value:p,onChange:e=>h(e.target.valueAsNumber),onBlur:()=>t(p)},m,{style:v?{maxWidth:"100px"}:{}})),!c&&i?a.createElement("span",{className:"input-group-text",style:{minWidth:"66px"}},i):null)},Ut=e=>{var t;const{feature:{presets:n,access:r,endpoint:s,name:l,property:i,unit:o,value_max:c,value_min:m},deviceState:d,steps:u,onChange:p,minimal:h}=e;return r&Et.ACCESS_WRITE?a.createElement(Bt,{onChange:e=>p(s,{[l]:e}),value:null!==(t=d[i])&&void 0!==t?t:0,min:m,max:c,steps:n&&n.length?n:u,unit:o,minimal:h}):r&Et.ACCESS_STATE?a.createElement(St,Object.assign({},e)):a.createElement(_t,Object.assign({},e))},Wt=e=>{const{onChange:t,value:n,unit:r,...s}=e,[l,i]=(0,a.useState)(n);return(0,a.useEffect)((()=>{i(n)}),[n]),a.createElement(a.Fragment,null,a.createElement("input",Object.assign({type:"text",className:"form-control",value:l,onChange:e=>i(e.target.value),onBlur:()=>t(l)},s)),r?a.createElement("span",{className:"input-group-text",style:{minWidth:"66px"}},r):null)},Zt=e=>{var t;const{feature:{access:n,endpoint:r,name:s,property:l},deviceState:i,onChange:o}=e;return n&Et.ACCESS_WRITE?a.createElement(Wt,{onChange:e=>o(r,{[s]:e}),value:null!==(t=i[l])&&void 0!==t?t:""}):n&Et.ACCESS_STATE?a.createElement(St,Object.assign({},e)):a.createElement(_t,Object.assign({},e))},Ht=e=>a.createElement(Vt,Object.assign({type:"switch"},e)),zt=e=>{const{feature:t,device:n,deviceState:r,stepsConfiguration:s,onRead:l,onChange:i,featureWrapperClass:o,minimal:c}=e,m={key:JSON.stringify(t),device:n,deviceState:r,onChange:i,onRead:l,featureWrapperClass:o,minimal:c},d={key:JSON.stringify(t),feature:t,onRead:l,deviceState:r};return function(e){return"binary"===e.type}(t)?a.createElement(o,Object.assign({},d),a.createElement(wt,Object.assign({feature:t},m))):function(e){return"numeric"===e.type}(t)?a.createElement(o,Object.assign({},d),a.createElement(Ut,Object.assign({feature:t},m,{steps:null==s?void 0:s[t.name]}))):function(e){return"text"===e.type}(t)?a.createElement(o,Object.assign({},d),a.createElement(Zt,Object.assign({feature:t},m))):function(e){return"enum"===e.type}(t)?a.createElement(o,Object.assign({},d),a.createElement(Lt,Object.assign({feature:t},m))):vt(t)?a.createElement(qt,Object.assign({feature:t},m)):function(e){return"switch"===e.type}(t)?a.createElement(Ht,Object.assign({feature:t},m)):function(e){return"cover"===e.type}(t)?a.createElement(Ot,Object.assign({feature:t},m)):function(e){return"lock"===e.type}(t)?a.createElement(Gt,Object.assign({feature:t},m)):function(e){return"composite"===e.type&&("color_xy"==e.name||"color_hs"==e.name)}(t)?a.createElement(o,Object.assign({},d),a.createElement(Mt,Object.assign({feature:t},m))):function(e){return"climate"===e.type}(t)?a.createElement(xt,Object.assign({feature:t},m)):gt(t)?a.createElement(o,Object.assign({},d),a.createElement(Vt,Object.assign({type:"composite",feature:t},m))):a.createElement(o,Object.assign({},d),a.createElement("pre",null,JSON.stringify(t,null,4)))};class Vt extends a.Component{constructor(){super(...arguments),this.state={},this.onChange=(e,t)=>{const{onChange:n,feature:a}=this.props;gt(a)?this.setState(t):n(e,t)},this.onApplyClick=()=>{const{onChange:e,feature:{endpoint:t,property:n}}=this.props;e(t,n?{[n]:this.state}:this.state)},this.onRead=(e,t)=>{const{onRead:n,feature:a}=this.props;gt(a)?n(e,{[a.property]:t}):n(e,t)}}render(){const{feature:e,device:t,deviceState:n,onRead:r,onChange:s,featureWrapperClass:i,minimal:o}=this.props,{features:c}=e;let m=[];if(o)m=m.concat(c.map((e=>a.createElement(zt,{key:e.name+e.endpoint,feature:e,device:t,deviceState:n,onChange:this.onChange,onRead:this.onRead,featureWrapperClass:i,minimal:o}))));else{const e=bt()(c,(e=>{var t;return null!==(t=e.endpoint)&&void 0!==t?t:"MAGIC_NO_ENDPOINT"}));e.MAGIC_NO_ENDPOINT&&(m.push(...e.MAGIC_NO_ENDPOINT.map((e=>a.createElement(zt,{key:e.name+e.endpoint,feature:e,device:t,deviceState:n,onChange:this.onChange,onRead:this.onRead,featureWrapperClass:i,minimal:o})))),delete e.MAGIC_NO_ENDPOINT);for(const r in e){const s=e[r];m.push(a.createElement("div",{key:r},"Endpoint: ",r,a.createElement("div",{className:"ps-4"},s.map((e=>a.createElement(zt,{key:e.name+e.endpoint,feature:e,device:t,deviceState:n,onChange:this.onChange,onRead:this.onRead,featureWrapperClass:i,minimal:o}))))))}}return gt(e)&&m.push(a.createElement("div",{key:e.name},a.createElement(ie,{className:l()("btn btn-primary float-end",{"btn-sm":o}),onClick:this.onApplyClick},"Apply"))),m}}const Jt=e=>{var t;const{children:n,feature:r,onRead:s}=e,l=null===(t=r.name)||void 0===t?void 0:t.startsWith("color_"),i=r.access&Et.ACCESS_READ||l;return a.createElement("div",{className:"row border-bottom py-1 w-100"},a.createElement("div",{className:"col-12 col-md-3"},a.createElement("label",{className:"col-form-label w-100"},a.createElement("div",{className:"d-flex justify-content-between"},a.createElement("strong",{title:JSON.stringify(r)},r.name),i?a.createElement(ie,{item:r,onClick:e=>{s(r.endpoint,{[e.property]:""})},className:"btn btn-primary btn-sm"},a.createElement("i",{className:"fa fa-sync"})):null),r.description?a.createElement("small",{className:"d-block text-muted"},r.description):null)),a.createElement("div",{className:"col-12 col-md-9 d-flex align-items-center"},n))};class Qt extends a.Component{render(){var e,t;const{device:n,deviceStates:r,setDeviceState:s,getDeviceState:l}=this.props,i=null!==(e=r.get(n.friendly_name))&&void 0!==e?e:{};return(null===(t=n.definition)||void 0===t?void 0:t.exposes)?a.createElement(Vt,{feature:{features:n.definition.exposes},type:"composite",device:n,deviceState:i,onChange:(e,t)=>{s(`${n.friendly_name}${e?`/${e}`:""}`,t)},onRead:(e,t)=>{l(`${n.friendly_name}${e?`/${e}`:""}`,t)},featureWrapperClass:Jt}):"Device doesn't expose anything"}}const Kt=(0,I.$)(["deviceStates"],le)(Qt),Yt=e=>{const{label:t,clusters:n}=e;return n.length?a.createElement("li",null,a.createElement("span",null,t),a.createElement("ul",null,n.map((e=>a.createElement("li",{key:e},a.createElement("span",null,e)))))):null};class Xt extends a.Component{render(){const{device:e}=this.props;return a.createElement("dl",{className:"_1A0umx4fPj4iWC5K7RUnD- row"},a.createElement("ul",null,a.createElement("li",null,a.createElement("span",null,e.ieee_address),a.createElement("ul",null,Array.from(e.endpoints.entries()).map((([e,t])=>a.createElement("li",{key:e},a.createElement("span",null,"Endpoint ",a.createElement("strong",null,e)),a.createElement("ul",null,a.createElement(Yt,{label:"Output clusters",clusters:t.clusters.output}),a.createElement(Yt,{label:"Input clusters",clusters:t.clusters.input})))))))))}}var en=n(51143);const tn=JSON.parse('{"type":"array","items":{"type":"object","properties":{"key":{"type":"string","title":"Property name"},"valueType":{"type":"string","enum":["string","number","boolean"],"title":"Type"}},"dependencies":{"valueType":{"oneOf":[{"properties":{"valueType":{"enum":["string"]},"value":{"type":"string"}}},{"properties":{"valueType":{"enum":["number"]},"value":{"type":"number"}}},{"properties":{"valueType":{"enum":["boolean"]},"value":{"type":"boolean"}}}]}}}}'),nn={"ui:order":["friendly_name","retain","retention","qos","filtered_attributes","*"]};class an extends a.Component{constructor(){super(...arguments),this.updateConfig=e=>{var t,n;const{formData:a}=e,{setDeviceOptions:r,type:s,bridgeInfo:{config_schema:l,config:i},device:o}=this.props,c=null!==(n=null===(t=l.definitions)||void 0===t?void 0:t.device)&&void 0!==n?n:{properties:{}},m=Object.keys(c.properties),d={...null==i?void 0:i.device_options,...null==i?void 0:i.devices[o.ieee_address]};if("generic"===s)r(o.ieee_address,a);else{const e={};Object.entries(d).filter((([e])=>!m.includes(e))).forEach((([t])=>{const n=a.find((e=>e.key===t));e[t]=void 0!==n?n.value:void 0})),r(o.ieee_address,e)}}}getSchemaAndConfig(){var e,t;const{type:n,bridgeInfo:{config_schema:a,config:r},device:s}=this.props,l=null!==(t=null===(e=a.definitions)||void 0===e?void 0:e.device)&&void 0!==t?t:{properties:{}},i={...null==r?void 0:r.device_options,...null==r?void 0:r.devices[s.ieee_address]};if("generic"===n)return{schema:l,data:i,uiSchema:nn};{const e=Object.keys(l.properties),t=Object.entries(i).filter((([t])=>!e.includes(t))).map((([e,t])=>{var n;return{value:t,valueType:(n=t,{}.toString.call(n).match(/\s([a-zA-Z]+)/)[1].toLowerCase()),key:e}}));return{schema:tn,data:t,uiSchema:{}}}}renderHelp(){const{type:e,device:t}=this.props;if("specific"===e)return a.createElement("h2",null,"Get possible device specific praemeters on ",a.createElement(Ge,{device:t,anchor:"device-type-specific-configuration"}))}render(){const{schema:e,data:t,uiSchema:n}=this.getSchemaAndConfig();return a.createElement(a.Fragment,null,this.renderHelp(),a.createElement(en.ZP,{schema:e,formData:t,onSubmit:this.updateConfig,uiSchema:n}))}}const rn=(0,I.$)(["deviceStates","bridgeInfo"],le)(an);class sn extends a.Component{renderContent(){const{match:e,devices:t}=this.props,{tab:n,dev:r}=e.params,s=t.get(r);switch(n){case"info":return a.createElement(He,{device:s});case"bind":return a.createElement(nt,{device:s});case"state":return a.createElement(ht,{device:s});case"exposes":return a.createElement(Kt,{device:s});case"clusters":return a.createElement(Xt,{device:s});case"reporting":return a.createElement(ut,{device:s});case"settings":return a.createElement(rn,{device:s,type:"generic"});case"settings-specific":return a.createElement(rn,{device:s,type:"specific"});default:return a.createElement(xe.l_,{to:`/device/${r}/info`})}}render(){const{devices:e,match:t}=this.props,{dev:n}=t.params,r=e.get(n);if(!r)return a.createElement("div",{className:"h-100 d-flex justify-content-center align-items-center"},"Unknown device");const s=(e=>[{title:"About",url:`/device/${e}/info`},{title:"Exposes",url:`/device/${e}/exposes`},{title:"Bind",url:`/device/${e}/bind`},{title:"Reporting",url:`/device/${e}/reporting`},{title:"Settings",url:`/device/${e}/settings`},{title:"Settings(specific)",url:`/device/${e}/settings-specific`},{title:"State",url:`/device/${e}/state`},{title:"Clusters",url:`/device/${e}/clusters`}])(n);return a.createElement(a.Fragment,null,a.createElement("h1",{className:"h3"},r.friendly_name),a.createElement("div",{className:"tab"},a.createElement("ul",{className:"nav nav-tabs"},s.map((e=>a.createElement("li",{key:e.title,className:"nav-item"},a.createElement(we.OL,{activeClassName:"active",className:"nav-link TxlAB4ufmQ5iWcatxCVRX",to:e.url},e.title))))),a.createElement("div",{className:"tab-content"},a.createElement("div",{className:"tab-pane fade show active"},this.renderContent()))))}}const ln=(0,xe.EN)(sn),on=(0,I.$)(["devices"],le)(ln);class cn extends a.Component{constructor(){super(...arguments),this.onIdentifyClick=e=>{const{touchlinkIdentify:t}=this.props;t(e)},this.onResetClick=e=>{const{touchlinkReset:t}=this.props;t(e)}}renderTouchlinkDevices(){const{touchlinkDevices:e,devices:t,touchlinkIdentifyInProgress:n,touchlinkResetInProgress:r}=this.props,s=n||r;return a.createElement("div",{className:"table-responsive"},a.createElement("table",{className:"table align-middle"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{scope:"col"},"#"),a.createElement("th",{scope:"col"},"ieee_address"),a.createElement("th",{scope:"col"},"friendly_name"),a.createElement("th",{scope:"col"},"channel"),a.createElement("th",{scope:"col"}," "))),a.createElement("tbody",null,e.map(((e,i)=>{var o;return a.createElement("tr",{key:e.ieee_address},a.createElement("td",null,i+1),a.createElement("td",null,t.has(e.ieee_address)?a.createElement(we.rU,{to:p(e.ieee_address)},e.ieee_address):e.ieee_address),a.createElement("td",null,null===(o=t.get(e.ieee_address))||void 0===o?void 0:o.friendly_name),a.createElement("td",null,e.channel),a.createElement("td",null,a.createElement("div",{className:"btn-group float-right",role:"group","aria-label":"Basic example"},a.createElement(ie,{disabled:s,item:e,title:"Identify",className:"btn btn-primary",onClick:this.onIdentifyClick},a.createElement("i",{className:l()("fa",{"fa-exclamation-triangle":!n,"fas fa-circle-notch fa-spin":n})})),a.createElement(ie,{disabled:s,item:e,title:"Factory reset",className:"btn btn-danger",onClick:this.onResetClick},a.createElement("i",{className:l()("fa",{"fa-broom":!r,"fas fa-circle-notch fa-spin":r})})))))})))))}renderNoDevices(){const{touchlinkScan:e}=this.props;return a.createElement(ie,{className:"btn btn-primary mx-auto d-block",onClick:e},"Scan")}render(){const{touchlinkDevices:e,touchlinkScanInProgress:t,touchlinkScan:n}=this.props;return a.createElement("div",{className:"card"},a.createElement("div",{className:"card-header allign-middle"},"Detected ",e.length," touchlink devices.",a.createElement(ie,{title:"Rescan",className:"btn btn-primary btn-sm float-right",onClick:n},a.createElement("i",{className:"fa fa-sync"}))),a.createElement("div",{className:"card-body"},t?a.createElement("div",{className:"d-flex justify-content-center"},a.createElement("div",{className:"spinner-border",role:"status"},a.createElement("span",{className:"sr-only"},"Loading..."))):0===e.length?this.renderNoDevices():this.renderTouchlinkDevices()))}}const mn=(0,I.$)(["touchlinkDevices","devices","touchlinkScanInProgress","touchlinkIdentifyInProgress","touchlinkResetInProgress"],le)(cn);var dn=n(50361),un=n.n(dn);const pn=JSON.parse('{"mqtt":{"ui:order":["base_topic","server","user","password","client_id","version","ca","key","cert","reject_unauthorized","*"]},"serial":{"ui:order":["port","adapter","disable_led","*"]},"frontend":{"ui:order":["port","host","*"]}}'),hn="main",vn=["groups","devices","device_options","ban","whitelist","map_options"],gn=["object","array"],En=(e,t={},n={})=>{t.required&&(t.required=t.required.filter((t=>e.includes(t))));for(const a of e)t.properties&&delete t.properties[a],delete n[a];return{schema:t,config:n}},fn=[{title:"Settings",url:"/settings/settings"},{title:"Tools",url:"/settings/tools"},{title:"About",url:"/settings/about"},{title:"Raw",url:"/settings/bridge"},{title:a.createElement("i",{className:"fa fa-donate"}),url:"/settings/donate"}],bn=[a.createElement("div",{key:"nurikk",className:"row pb-2"},a.createElement("div",{className:"col"},a.createElement("a",{href:"https://www.buymeacoffee.com/nurikk"},a.createElement("img",{src:"https://img.buymeacoffee.com/button-api/?text=Thanks for frontend&emoji=🍺&slug=nurikk&button_colour=FFDD00&font_colour=000000&font_family=Arial&outline_colour=000000&coffee_colour=ffffff"})))),a.createElement("div",{key:"koenkk",className:"row pb-2"},a.createElement("div",{className:"col"},a.createElement("a",{href:"https://www.buymeacoffee.com/koenkk"},a.createElement("img",{src:"https://img.buymeacoffee.com/button-api/?text=Thanks for zigbee2mqtt&emoji=☕&slug=koenkk&button_colour=FFDD00&font_colour=000000&font_family=Arial&outline_colour=000000&coffee_colour=ffffff"}))))].sort((()=>Math.random()-.5));class yn extends a.Component{constructor(){super(...arguments),this.state={keyName:hn},this.onSettingsSave=e=>{const{formData:t}=e,{updateBridgeConfig:n}=this.props,{keyName:a}=this.state;n(a===hn?t:{[a]:t})}}renderCategoriesTabs(){return a.createElement("ul",{className:"nav nav-tabs"},fn.map((e=>a.createElement("li",{key:e.url,className:"nav-item"},a.createElement(we.OL,{className:"nav-link",activeClassName:"active",to:e.url},e.title)))))}render(){return a.createElement("div",{className:"tab"},this.renderCategoriesTabs(),a.createElement("div",{className:"tab-content h-100 p-0 p-sm-3"},a.createElement("div",{className:"tab-pane fade show active"},this.renderSwitcher())))}renderSwitcher(){const{match:e}=this.props,{tab:t}=e.params;switch(t){case"tools":return this.renderTools();case"bridge":return this.renderBridgeInfo();case"about":return this.renderAbout();case"settings":return this.renderSettings();case"donate":return this.renderDonate();default:return a.createElement(xe.l_,{to:"/settings/settings"})}}renderAbout(){var e,t,n,r,s,l;const{bridgeInfo:i}=this.props,o=null===(null===(e=i.version)||void 0===e?void 0:e.match(/^\d+\.\d+\.\d+$/))?i.version:a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:`https://github.com/Koenkk/zigbee2mqtt/releases/tag/${i.version}`},i.version),c=i.commit?a.createElement(a.Fragment,null,"commit: ",a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:`https://github.com/Koenkk/zigbee2mqtt/commit/${i.commit}`},i.commit)):null,m=[{title:"Zigbee2MQTT version",content:a.createElement(a.Fragment,null,o," ",c)},{title:"Coordinator type",content:a.createElement(a.Fragment,null,null!==(n=null===(t=i.coordinator)||void 0===t?void 0:t.type)&&void 0!==n?n:"Unknown")},{title:"Coordinator revision",content:a.createElement(a.Fragment,null,null!==(l=null===(s=null===(r=i.coordinator)||void 0===r?void 0:r.meta)||void 0===s?void 0:s.revision)&&void 0!==l?l:"Unknown")},{title:"Frontend version",content:"0.3.89"}];return a.createElement("div",{className:"p-3"},m.map((e=>a.createElement("dl",{key:e.title,className:"row"},a.createElement("dt",{className:"col-sm-3"},e.title),a.createElement("dd",{className:"col-sm-9"},e.content)))))}renderBridgeInfo(){const{bridgeInfo:e}=this.props;return a.createElement("div",{className:"p-3"},a.createElement("pre",null,JSON.stringify(e,null,4)))}renderTools(){const{exportState:e,restartBridge:t}=this.props;return a.createElement("div",{className:"p-3"},a.createElement(ie,{className:"btn btn-primary d-block mt-2",onClick:e},"Download state"),a.createElement(ie,{className:"btn btn-danger d-block mt-2",onClick:t,promt:!0},"Restart Zigbee2MQTT"))}getSettingsTabs(){const{bridgeInfo:{config_schema:e={properties:{}}}}=this.props,t=Object.entries(e.properties).filter((([e,t])=>((e,t)=>gn.includes(t.type)&&!vn.includes(e)||!(!t||!t.oneOf)&&t.oneOf.length>0)(e,t))).map((([e,t])=>{var n;return{name:e,title:null!==(n=t.title)&&void 0!==n?n:e}}));return t.unshift({name:hn,title:"Main"}),t}getSettingsInfo(){const{keyName:e}=this.state,{bridgeInfo:{config_schema:t,config:n}}=this.props;let a=En(vn,un()(t),un()(n)),r=a.schema,s=a.config[e];if(e===hn){const e=this.getSettingsTabs().map((e=>e.name));a=En(e,a.schema,a.config),r=a.schema,s=a.config}else s=a.config[e],a.schema.properties&&(r=a.schema.properties[e]);return{currentSchema:r,currentConfig:s}}renderSettingsTabs(){const e=this.getSettingsTabs(),{keyName:t}=this.state;return a.createElement("div",{className:"nav nav-pills"},e.map((e=>a.createElement("li",{key:e.name,className:"nav-item"},a.createElement("a",{className:l()("nav-link",{"bg-primary active":t===e.name}),"aria-current":"page",href:"#",onClick:t=>{this.setState({keyName:e.name}),t.preventDefault()}},e.title)))))}renderSettings(){const{keyName:e}=this.state,{currentSchema:t,currentConfig:n}=this.getSettingsInfo();return a.createElement("div",{className:"tab"},this.renderSettingsTabs(),a.createElement("div",{className:"tab-content"},a.createElement("div",{className:"tab-pane active"},a.createElement(en.ZP,{key:e,schema:t,formData:n,onSubmit:this.onSettingsSave,uiSchema:pn[e]}))))}renderDonate(){return a.createElement("div",{className:"container-fluid"},a.createElement("p",null,"Hello, ",a.createElement("mark",null,"%username%"),", here you can thank us for hardworking"),a.createElement("p",null,"Don't hesitate to say something nice as well ;) "),bn)}}const kn=(0,xe.EN)(yn),Nn=(0,I.$)(["bridgeInfo"],le)(kn);var Cn=n(27722);const Sn=e=>{const{saveCurrentTheme:t}=e,{switcher:n,themes:r,status:s,currentTheme:l}=(0,Cn.useThemeSwitcher)(),i="dark"===l;return"loading"===s?a.createElement("div",null,"Loading styles..."):a.createElement(ie,{item:i,className:"btn btn-info",onClick:e=>{const a=e?r.light:r.dark;t(a),n({theme:a})}},i?"🌑":"🌞")},_n=[{href:"/",title:"Devices",exact:!0},{href:"/dashboard",title:"Dashboard"},{href:"/map",title:"Map"},{href:"/settings",title:"Settings"},{href:"/groups",title:"Groups"},{href:"/ota",title:"OTA"},{href:"/touchlink",title:"Touchlink"},{href:"/logs",title:"Logs"},{href:"/extensions",title:"Extensions"}],wn=({devices:e,setPermitJoin:t,bridgeInfo:n})=>{var r;const{ref:s,isComponentVisible:i,setIsComponentVisible:o}=function(e){const[t,n]=(0,a.useState)(!1),r=(0,a.useRef)(null),s=e=>{"Escape"===e.key&&n(!1)},l=e=>{r.current&&!r.current.contains(e.target)&&n(!1)};return(0,a.useEffect)((()=>(document.addEventListener("keydown",s,!0),document.addEventListener("click",l,!0),()=>{document.removeEventListener("keydown",s,!0),document.removeEventListener("click",l,!0)}))),{ref:r,isComponentVisible:t,setIsComponentVisible:n}}(),[c,m]=(0,a.useState)({}),d=[],u=e=>{m(e),o(!1)};return e.forEach((e=>{"Router"==e.type&&d.push(a.createElement("li",{key:e.friendly_name},a.createElement(ie,{item:e,className:"dropdown-item",onClick:u},e.friendly_name)))})),a.createElement("div",{className:"btn-group text-nowrap me-1"},a.createElement("button",{onClick:()=>{t(!n.permit_join,c)},type:"button",className:"btn btn-outline-secondary"},n.permit_join?"Disable join":"Permit join"," (",null!==(r=null==c?void 0:c.friendly_name)&&void 0!==r?r:"All",")"),d.length?a.createElement(a.Fragment,null,a.createElement(ie,{type:"button",onClick:o,item:!i,className:"btn btn-outline-secondary dropdown-toggle dropdown-toggle-split","data-toggle":"dropdown","aria-expanded":"false"},a.createElement("span",{className:"visually-hidden"},"Toggle Dropdown")),a.createElement("ul",{ref:s,className:l()("dropdown-menu","_36Sntvyj-B3gg7Xj6xLUaY",{show:i})},a.createElement("li",{key:"all"},a.createElement(ie,{className:"dropdown-item",onClick:u},"All")),d)):null)},xn=(0,I.$)(["bridgeInfo","devices"],le)((e=>{const{devices:t,setPermitJoin:n,bridgeInfo:r,restartBridge:s,setTheme:i}=e,o=(0,a.useRef)(),[c,m]=(0,a.useState)(!1);return function(e,t){(0,a.useEffect)((()=>{const n=n=>{e.current&&!e.current.contains(n.target)&&t()};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])}(o,(()=>{m(!1)})),a.createElement("nav",{className:"navbar navbar-expand-md navbar-light"},a.createElement("div",{ref:o,className:"container-fluid"},a.createElement(we.rU,{onClick:()=>m(!1),to:"/"},"Zigbee2MQTT"),a.createElement("button",{onClick:()=>{m(!c)},className:"navbar-toggler",type:"button"},a.createElement("span",{className:"navbar-toggler-icon"})),a.createElement("div",{className:l()("navbar-collapse collapse",{show:c})},a.createElement("ul",{className:"navbar-nav"},_n.map((e=>a.createElement("li",{key:e.href,className:"nav-item"},a.createElement(we.OL,{onClick:()=>m(!1),exact:e.exact,className:"nav-link",to:e.href,activeClassName:"active"},e.title))))),a.createElement(wn,{devices:t,setPermitJoin:n,bridgeInfo:r}),a.createElement(Sn,{saveCurrentTheme:i})),r.restart_required?a.createElement(ie,{onClick:s,promt:!0,className:"btn btn-danger me-1"},"Restart"):null))}));function Rn(e){const{name:t,onRename:n}=e,[r,s]=(0,a.useState)(!1),[l,i]=(e=>{const[t,n]=(0,a.useState)(e);return[t,e=>n({...t,[e.currentTarget.name]:e.currentTarget.value})]})({friendlyName:t});return a.createElement(a.Fragment,null,a.createElement($e,{isOpen:r},a.createElement(Oe,null,a.createElement("h3",null,"Rename group"),a.createElement("small",null,t)),a.createElement(Ae,null,a.createElement("div",{className:"mb-3"},a.createElement("label",{className:"form-label"},"Friendly name"),a.createElement("input",{name:"friendlyName",onChange:i,type:"text",className:"form-control",value:l.friendlyName}))),a.createElement(De,null,a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:()=>s(!1)},"Close"),a.createElement("button",{type:"button",className:"btn btn-primary",onClick:()=>{n(t,l.friendlyName),s(!1)}},"Save changes"))),a.createElement(ie,{className:"btn btn-primary",onClick:()=>s(!0),title:"Rename group"},a.createElement("i",{className:"fa fa-edit"})))}class On extends a.Component{getDeviceObj(){const{groupAddress:e,devices:t}=this.props;return t.get(e.ieee_address)}render(){const{rowNumber:e,groupAddress:t,removeDeviceFromGroup:n}=this.props,r=this.getDeviceObj();return a.createElement("tr",null,a.createElement("th",{scope:"row"},e+1),a.createElement("td",{className:"_2p1XqBiO9XLlCB-lT60VCH"},a.createElement(w,{className:l()("_3Z1i8qUrV2sErNF0__pVZt"),device:r})),a.createElement("td",null,a.createElement(we.rU,{to:p(r.ieee_address)},r.friendly_name)),a.createElement("td",null,t.ieee_address),a.createElement("td",null,t.endpoint),a.createElement("td",null,r&&a.createElement(ie,{promt:!0,item:r.friendly_name,onClick:n,className:"btn btn-danger btn-sm float-right"},a.createElement("i",{className:"fa fa-trash"}))))}}class An extends a.Component{constructor(){super(...arguments),this.onRemove=e=>{const{group:t,removeDeviceFromGroup:n}=this.props;n(t.friendly_name,e)}}render(){const{group:e,devices:t}=this.props;return a.createElement("table",{className:"table table-sm"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{scope:"col"},"#"),a.createElement("th",{scope:"col"},"Pic"),a.createElement("th",{scope:"col"},"friendlyName"),a.createElement("th",{scope:"col"},"ieee_addr"),a.createElement("th",{scope:"col"},"Endpoint"),a.createElement("th",{scope:"col",className:"text-right"},"Action"))),a.createElement("tbody",null,e.members.map(((e,n)=>a.createElement(On,{key:e.ieee_address,removeDeviceFromGroup:this.onRemove,rowNumber:n,devices:t,groupAddress:e})))))}}class Dn extends a.Component{constructor(){super(...arguments),this.state={},this.onSubmit=()=>{const{addDeviceToGroup:e,group:t}=this.props,{device:n,endpoint:a}=this.state;e(a?`${n}/${a}`:n,t.friendly_name)},this.onDeviceSelect=e=>{const t=N(e);this.setState({device:e.ieee_address,endpoint:t[0]})},this.onEpChange=e=>{this.setState({endpoint:e})}}render(){const{device:e,endpoint:t}=this.state,{devices:n}=this.props,r=n.get(e),s=N(r);return a.createElement("div",{className:"row row-cols-lg-auto align-items-center"},a.createElement(ze,{type:"device",value:e,devices:n,onChange:this.onDeviceSelect}),a.createElement(Ve,{values:s,value:t,onChange:this.onEpChange}),a.createElement(ie,{type:"button",onClick:this.onSubmit,className:"btn btn-primary"},"Add to group"))}}class In extends a.Component{constructor(){super(...arguments),this.state={newGroupName:"",newGroupId:void 0},this.changeHandler=e=>{const{name:t,value:n}=e.target;this.setState({[t]:n})},this.onGroupCreateSubmit=()=>{const{newGroupName:e,newGroupId:t}=this.state,{createGroup:n}=this.props;n(e,t)},this.removeGroup=e=>{const{removeGroup:t}=this.props;t(e)},this.removeDeviceFromGroup=(e,t)=>{const{removeDeviceFromGroup:n}=this.props;n(t,e)},this.renameGroup=(e,t)=>{const{renameGroup:n}=this.props;n(e,t)}}renderGroupCreationForm(){const{newGroupName:e,newGroupId:t}=this.state;return a.createElement("div",{className:"card"},a.createElement("div",{className:"card-body"},a.createElement("div",{className:"input-group"},a.createElement("label",{htmlFor:"newGroupName",className:"sr-only"},"Group name"),a.createElement("input",{onChange:this.changeHandler,value:e,required:!0,type:"text",name:"newGroupName",className:"form-control",id:"newGroupName",placeholder:"new group name"}),a.createElement("label",{htmlFor:"newGroupName",className:"sr-only"},"Group id"),a.createElement("input",{onChange:this.changeHandler,value:void 0===t?"":t,type:"number",name:"newGroupId",className:"form-control",id:"newGroupId",placeholder:"enter group id if necessary"}),a.createElement(ie,{onClick:this.onGroupCreateSubmit,className:"btn btn-primary form-control"},"Create group"))))}renderGroups(){const{groups:e,devices:t,addDeviceToGroup:n}=this.props;return e.map((e=>a.createElement("div",{key:e.id,className:"card"},a.createElement("div",{className:"card-header",id:`heading${e.id}`},a.createElement("h5",{className:"mb-0"},a.createElement("button",{className:"btn btn-link btn-sm"},e.friendly_name," (#",e.id,")"),a.createElement("div",{className:"btn-group float-right btn-group-sm",role:"group","aria-label":"Basic example"},a.createElement(Rn,{name:e.friendly_name,onRename:this.renameGroup}),a.createElement(ie,{promt:!0,title:"Remove group",item:e.friendly_name,onClick:this.removeGroup,className:"btn btn-danger"},a.createElement("i",{className:"fa fa-trash"}))))),a.createElement("div",{className:"card-body"},a.createElement("div",{className:"table-responsive"},a.createElement(An,{group:e,devices:t,removeDeviceFromGroup:this.removeDeviceFromGroup}))),a.createElement("div",{className:"card-footer"},a.createElement(Dn,{addDeviceToGroup:n,devices:t,group:e}))))).reverse()}render(){return a.createElement(a.Fragment,null,this.renderGroupCreationForm(),this.renderGroups())}}const Tn=(0,I.$)(["groups","devices"],le)(In);var $n=n(18446),Mn=n.n($n);class jn extends a.Component{constructor(){super(...arguments),this.onClick=e=>{e.preventDefault(),e.stopPropagation();const{column:t,onClick:n}=this.props;n&&n(t)}}renderArrow(){const{currentDirection:e,current:t,column:n}=this.props;return Mn()(t,n)?"asc"==e?a.createElement("i",{className:"fa fa-sort-amount-down-alt"}):a.createElement("i",{className:"fa fa-sort-amount-down"}):a.createElement("i",{className:"fa fa-sort-amount-down invisible"})}render(){const{children:e,onClick:t,current:n,column:r,currentDirection:s,...l}=this.props;return a.createElement("th",Object.assign({},l),a.createElement("span",{className:"btn btn-link",onClick:this.onClick},e),this.renderArrow())}}const Fn="_1AmFhCTIk_ifBlEJGnLJuK",Ln=e=>{const{sortColumn:t,sortDirection:n,onSortChange:r,lastSeenIsAvaliable:s}=e;return a.createElement("thead",null,a.createElement("tr",{className:"text-nowrap"},a.createElement("th",null,"#"),a.createElement("th",null,"Pic"),a.createElement(jn,{className:Fn,column:"device.friendly_name",currentDirection:n,current:t,onClick:r},"Friendly name"),a.createElement(jn,{className:Fn,column:"device.ieee_address",currentDirection:n,current:t,onClick:r},"IEEE address"),a.createElement(jn,{className:Fn,column:"device.definition.vendor",currentDirection:n,current:t,onClick:r,title:"definition.vendor"},"Manufacturer"),a.createElement(jn,{className:Fn,column:"device.definition.model",currentDirection:n,current:t,onClick:r},"Model"),a.createElement(jn,{className:Fn,column:"state.linkquality",currentDirection:n,current:t,onClick:r},"LQI"),s&&a.createElement(jn,{className:Fn,column:["state.last_seen","state.elapsed"],currentDirection:n,current:t,onClick:r},"Last seen"),a.createElement(jn,{className:Fn,column:"state.battery",currentDirection:n,current:t,onClick:r},"Power"),a.createElement("th",null," ")))},Pn=e=>{var t,n,r;const{device:s,deviceState:l,id:i,lastSeenIsAvaliable:o}=e;return a.createElement("tr",{key:s.friendly_name,title:"available"==(null===(t=l.update)||void 0===t?void 0:t.state)?"Avaliable OTA update":null===(n=s.definition)||void 0===n?void 0:n.description},a.createElement("td",{className:"font-weight-bold"},i+1),a.createElement("td",{className:"_1KD_wxLENsmTnroATY4BrA"},a.createElement(w,{className:"_1kMXLbhsSotmS-uYUbIFl0",device:s,deviceStatus:l})),a.createElement("td",null,a.createElement(we.rU,{to:p(s.ieee_address)},s.friendly_name)),a.createElement("td",null,s.ieee_address," (",h(s.network_address,4),")"),a.createElement("td",{className:"text-truncate text-nowrap position-relative"},a.createElement(qe,{device:s})),a.createElement("td",{title:null===(r=null==s?void 0:s.definition)||void 0===r?void 0:r.description},a.createElement(Ge,{device:s})),a.createElement("td",null,a.createElement(kt,{value:null==l?void 0:l.linkquality,name:"linkquality"})),o&&a.createElement("td",null,v(l.last_seen,l.elapsed)),a.createElement("td",{className:"text-left"},a.createElement(Be,{source:s.power_source,battery:null==l?void 0:l.battery,batteryLow:l.battery_low})),a.createElement("td",null,a.createElement(je,{device:s,state:l})))},qn="ZigbeeTableState";class Gn extends a.Component{constructor(e){super(e),this.saveState=()=>{const{sortDirection:e,sortColumn:t}=this.state,n={sortDirection:e,sortColumn:t};try{localStorage.setItem(qn,JSON.stringify(n))}catch(e){(new G.Iq).error(e.toString())}},this.handleLongLoading=()=>{const{devices:e}=this.props;if(0==e.size){const e=a.createElement(a.Fragment,null,a.createElement("strong",null,"Loading devices takes too long time."),a.createElement("div",null,"Consider reading ",a.createElement("a",{href:"https://www.zigbee2mqtt.io/information/frontend.html"},"documentation")));this.setState({error:e})}},this.onSortChange=(e,t)=>{const{sortColumn:n}=this.state;let{sortDirection:a}=this.state;Mn()(n,e)&&(a=t||("asc"==a?"desc":"asc")),this.setState({sortColumn:e,sortDirection:a},this.saveState)},this.state={sortDirection:"desc",sortColumn:"device.network_address",currentTime:Date.now(),sortedTableData:[]}}restoreState(){const{sortColumn:e,sortDirection:t}=this.state,n=localStorage.getItem(qn);if(n)try{const e=JSON.parse(n);this.setState(e)}catch(e){(new G.Iq).error(e.toString())}else this.onSortChange(e,t)}componentDidMount(){setTimeout(this.handleLongLoading,15e3),this.restoreState()}static getDerivedStateFromProps(e,t){const{sortColumn:n,sortDirection:a}=t,{devices:r,deviceStates:s}=e,l=[];return r.forEach((e=>{var t;"Coordinator"!==e.type&&l.push({device:e,state:null!==(t=s.get(e.friendly_name))&&void 0!==t?t:{}})})),{sortedTableData:U()(l,n,[a])}}renderError(){const{error:e}=this.state;return a.createElement("div",{className:"h-100 d-flex justify-content-center align-items-center"},a.createElement("div",{className:"d-flex align-items-center"},e))}render(){const{error:e}=this.state,{devices:t}=this.props;return t.size?this.renderDevicesTable():e?this.renderError():a.createElement("div",{className:"h-100 d-flex justify-content-center align-items-center"},a.createElement(Ee,null))}lastSeenIsAvaliable(){var e,t,n,a;const{bridgeInfo:r}=this.props;return(null===(t=null===(e=null==r?void 0:r.config)||void 0===e?void 0:e.advanced)||void 0===t?void 0:t.elapsed)||"disable"!=(null===(a=null===(n=null==r?void 0:r.config)||void 0===n?void 0:n.advanced)||void 0===a?void 0:a.last_seen)}renderDevicesTable(){const{sortedTableData:e,sortColumn:t,sortDirection:n}=this.state;return a.createElement("div",{className:"card"},a.createElement("div",{className:"table-responsive"},a.createElement("table",{className:"table align-middle"},a.createElement(Ln,{lastSeenIsAvaliable:this.lastSeenIsAvaliable(),sortColumn:t,sortDirection:n,onSortChange:this.onSortChange}),a.createElement("tbody",null,e.map((({device:e,state:t},n)=>a.createElement(Pn,{key:e.friendly_name,device:e,deviceState:t,id:n,lastSeenIsAvaliable:this.lastSeenIsAvaliable()})))))))}}const Bn=(0,I.$)(["devices","deviceStates","bridgeInfo"],le)(Gn);var Un=n(3522),Wn=n.n(Un);const Zn="all",Hn=({text:e})=>a.createElement(a.Fragment,null,e),zn=({text:e="",highlight:t=""})=>{if(!t.trim())return a.createElement(Hn,{text:e});const n=new RegExp(`(${Wn()(t)})`,"gi"),r=e.split(n);return a.createElement(a.Fragment,null,r.filter((e=>e)).map(((e,t)=>n.test(e)?a.createElement("mark",{key:t},e):a.createElement(Hn,{key:t,text:e}))))},Vn=[Zn,"debug","info","warn","error"];class Jn extends a.Component{constructor(){super(...arguments),this.state={search:"",logLevel:Zn}}renderSearch(){const{search:e}=this.state;return a.createElement("div",{className:"card"},a.createElement("div",{className:"card-body"},a.createElement("form",{className:"row row-cols-lg-auto g-3 align-items-center"},a.createElement("div",{className:"col-12"},a.createElement("label",{htmlFor:"log-level",className:"form-label"},"Show only"),a.createElement("select",{id:"log-level",className:"form-select",onChange:e=>this.setState({logLevel:e.target.value})},Vn.map((e=>a.createElement("option",{key:e,value:e},e))))),a.createElement("div",{className:"col-12"},a.createElement("label",{htmlFor:"search-filter",className:"form-label"},"Filter by text"),a.createElement("input",{id:"search-filter",className:"form-control col-10",placeholder:"Enter search criteria",value:e,onChange:e=>this.setState({search:e.target.value}),type:"text"})))))}render(){let{logs:e}=this.props;const{search:t,logLevel:n}=this.state,r=new RegExp(Wn()(t),"gi");return e=e.filter((e=>(n===Zn||e.level===n)&&(!t||r.test(e.message)))).sort(),a.createElement(a.Fragment,null,this.renderSearch(),a.createElement("div",{className:"card"},a.createElement("div",{className:"card-body"},0==e.length?a.createElement("h1",null,"You don't have ",n===Zn?"any":n," logs"):null,a.createElement("div",{className:"overflow-auto"},e.map(((e,r)=>a.createElement("div",{key:r},n===Zn&&a.createElement(a.Fragment,null,a.createElement("span",{className:l()("badge",{"bg-danger":"error"===e.level,"bg-warning":"warning"===e.level,"bg-info":"info"===e.level,"bg-secondary":!1===["error","warning","info"].includes(e.level)},"text-capitalize")},e.level)," "),a.createElement("code",null,a.createElement(zn,{text:e.message,highlight:t})))))))))}}const Qn=(0,I.$)(["logs","bridgeInfo"],le)(Jn),Kn=e=>{var t;const{device:n,state:r,checkOTA:s,updateOTA:l}=e;switch(null===(t=null==r?void 0:r.update)||void 0===t?void 0:t.state){case"updating":return a.createElement(a.Fragment,null,a.createElement("div",{className:"progress"},a.createElement("div",{className:"progress-bar progress-bar-striped progress-bar-animated",style:{width:`${r.update.progress}%`}},r.update.progress,"%")),a.createElement("div",null,"Remaining time ",(i=r.update.remaining)?[Math.floor(i/3600),Math.floor(i/60)%60,Math.floor(i%60)].map((e=>e<10?`0${e}`:e)).filter(((e,t)=>"00"!==e||t>0)).join(":"):"N/A"));case"available":return a.createElement(ie,{className:"btn btn-danger btn-sm",onClick:l,item:n.friendly_name,title:"Update OTA",promt:!0},"Update OTA");default:return a.createElement(ie,{className:"btn btn-primary btn-sm",onClick:s,item:n.friendly_name,title:"Check OTA"},"Check OTA")}var i},Yn=e=>{var t;const{device:n,state:r,...s}=e;return a.createElement("tr",null,a.createElement("td",null,a.createElement(we.rU,{to:p(n.ieee_address)},n.friendly_name)),a.createElement("td",{className:"text-truncate text-nowrap position-relative"},a.createElement(qe,{device:n})),a.createElement("td",{title:null===(t=null==n?void 0:n.definition)||void 0===t?void 0:t.description},a.createElement(Ge,{device:n})),a.createElement("td",null,n.date_code),a.createElement("td",null,n.software_build_id),a.createElement("td",null,a.createElement(Kn,Object.assign({device:n,state:r},s))))};class Xn extends a.Component{constructor(){super(...arguments),this.checkAllOTA=()=>{const{checkOTA:e}=this.props;this.getAllOtaDevices().forEach((([,t])=>e(t.friendly_name)))}}getAllOtaDevices(){const{devices:e}=this.props;return Array.from(e).filter((([,e])=>{var t;return null===(t=null==e?void 0:e.definition)||void 0===t?void 0:t.supports_ota}))}render(){const{deviceStates:e,checkOTA:t,updateOTA:n}=this.props,r={checkOTA:t,updateOTA:n},s=this.getAllOtaDevices();return a.createElement("div",{className:"card"},a.createElement("div",{className:"card-body table-responsive"},a.createElement("table",{className:"table"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{scope:"col"},"Friendly name"),a.createElement("th",null,"Manufacturer"),a.createElement("th",null,"Model"),a.createElement("th",null,"Firmware build date"),a.createElement("th",null,"Firwmare version"),a.createElement("th",null,a.createElement(ie,{className:"btn btn-danger btn-sm",onClick:this.checkAllOTA,promt:!0},"Check all OTA")))),a.createElement("tbody",null,0===s.length?a.createElement("tr",null,a.createElement("td",{colSpan:6},"You don't have any devices that support OTA")):null,s.map((([t,n])=>a.createElement(Yn,Object.assign({key:t,device:n,state:e.get(n.friendly_name)},r))))))))}}const ea=(0,I.$)(["devices","deviceStates"],le)(Xn);class ta extends a.Component{constructor(){super(...arguments),this.state={},this.donwloadState=()=>{k(q.getState(),"state.json")}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){const{error:e}=this.state;if(e){const t={title:`Got error: ${e.message}`,body:["DESCRIBE HERE WHAT HAPPENED AND WHAT YOU EXPECTED TO HAPPEN","\n\n\n\n\n",`**Current url**: ${window.location.toString()}`,`**Previous url**: ${document.referrer}`,"\n",`**Error type**: ${null==e?void 0:e.name}`,`**Error message**: ${null==e?void 0:e.message}`,"\n\n",null==e?void 0:e.stack].join("\n")},n=`https://github.com/nurikk/z2m-frontend/issues/new?${new URLSearchParams(t).toString()}`;return a.createElement("div",{className:"container"},a.createElement("h1",{className:"text-danger"},"Hello, you've found a bug. Congratulations!"),a.createElement("ol",null,a.createElement("li",null,a.createElement("strong",null,"Calm down")),a.createElement("li",null,a.createElement("strong",null,"Raise a github issue ",a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:n},"here"))),a.createElement("li",null,a.createElement("strong",null,a.createElement("span",{className:"btn btn-link p-0",onClick:this.donwloadState},"Download this file")," and attach to the issue")),a.createElement("li",null,a.createElement("strong",null,"Take a screenshot of this page and attach to the issue"))),a.createElement("div",null,a.createElement("div",null,e.name),a.createElement("div",null,e.message),a.createElement("pre",null,e.stack)))}return this.props.children}componentDidUpdate(e){const{location:{pathname:t}}=this.props,{location:{pathname:n}}=e;n!==t&&this.setState({error:void 0})}}const na=["linkquality"],aa=({device:e,deviceState:t})=>{const{last_seen:n,linkquality:r}=t,{exposes:s}=e.definition,l=[];return s.filter((e=>na.includes(e.name))).forEach((e=>{switch(e.name){case"linkquality":r&&l.push(a.createElement("span",{key:"linkquality",className:"me-1"},a.createElement("i",{className:"fa fa-signal fa-fw"})," ",r," LQI"))}})),l.push(a.createElement(Be,{key:"power",source:e.power_source,battery:t.battery})),a.createElement("footer",{className:"card-footer pt-0"},a.createElement("div",{className:"row justify-content-between flex-nowrap"},a.createElement("div",{title:"last update",className:"col text-truncate"},v(n)),a.createElement("div",{className:"col col-auto text-truncate"},l)))},ra=({onChange:e,onRead:t,device:n,deviceState:r,feature:{features:s},featureWrapperClass:i})=>a.createElement("div",{className:"col-xl-3 col-lg-4 col-sm-6 col-12 d-flex"},a.createElement("div",{className:"flex-fill card flex-shrink-1"},a.createElement("div",{className:"card-header pb-0"},a.createElement(we.rU,{to:p(n.ieee_address)},a.createElement(w,{device:n,className:l()("_2sZwYIX5ipSoyWG2H7AU79","me-2 d-inline")}),n.friendly_name)),a.createElement("div",{className:"card-body align-items-center row"},a.createElement(Vt,{feature:{features:s},className:"row",type:"composite",device:n,deviceState:r,onChange:e,onRead:t,featureWrapperClass:i,minimal:!0})),a.createElement(aa,{device:n,deviceState:r})));var sa=n(68929),la=n.n(sa),ia=n(18029),oa=n.n(ia);const ca={humidity:["text-info","fa-tint"],illuminance:["fa-sun"],pressure:["fa-cloud-download-alt"],co2:["fa-atom","text-warning"],voltage:["fa-bolt","text-success"],state:["fa-star-half-alt"],brightness:["fa-sun"],occupancy:["fa-walking"],current:["fa-copyright","text-warning"],power:["fa-power-off","text-success"],energy:["fa-plug","text-info"],frequency:["fa-wave-square"],tamper:["fa-exclamation-circle"],smoke:["fa-smoking","text-danger"],radiation_dose_per_hour:["fa-radiation","text-danger"],radioactive_events_per_minute:["fa-radiation-alt","text-warning"],power_factor:["fa-industry","text-danger"],color_xy:["fa-palette"],color_hs:["fa-palette"],color_temp:["fa-sliders-h"],illuminance_lux:["fa-sun"],soil_moisture:["fa-fill-drip"],water_leak:["fa-water"]},ma=e=>{const{children:t,feature:n,deviceState:r={}}=e,s=((e,t)=>{var n;let a=[];switch(e){case"temperature":a.push(l()("text-danger",(e=>{let t="fa-thermometer-empty";return e>=30?t="fa-thermometer-full":e>=25?t="fa-thermometer-three-quarters":e>=20?t="fa-thermometer-half":e>=15&&(t="fa-thermometer-quarter"),t})(t)));break;case"contact":a.push(l()({"fa-door-closed text-muted":t,"fa-door-open text-primary":!t}));break;case"occupancy":a.push(l()({"text-warning":t}));break;case"water_leak":a.push(l()({"text-primary":t}))}return a=[...a,...null!==(n=ca[e])&&void 0!==n?n:[]],a.length||a.push("invisible"),l()(a)})(n.name,r[n.property]);return a.createElement("div",{className:"d-flex align-items-center"},s&&a.createElement("div",{className:"me-1"},a.createElement("i",{className:`fa fa-fw ${s}`})),a.createElement("div",{className:"flex-shrink-1 flex-grow-1"},oa()(la()(n.name)),n.endpoint?` (${n.endpoint})`:null),a.createElement("div",{className:"flex-shrink-0"},t))},da=["linkquality","battery","battery_low","illuminance_lux","color_temp_startup","voltage","strength","color_options"],ua=["state","brightness","color_temp"],pa=["light"],ha=["",null,void 0],va=(e,t={})=>{const{access:n,property:a,name:r,type:s}=e;let{features:l}=e;if(vt(e)){l=l.map((e=>va(e,a?t[a]:t))).filter((e=>e));const e=bt()(l,"property");l=Object.values(e).map((e=>e[0]))}const i={...e,features:l};return(ua.includes(r)||pa.includes(s)||!!(!n||n&Et.ACCESS_STATE&&!ha.includes(t[a]))&&!da.includes(r)&&(n&Et.ACCESS_STATE&&(o=n)&&!(o&o-1)||!!(Array.isArray(l)&&l.length>0)))&&i;var o},ga=(0,I.$)(["devices","deviceStates"],le)((e=>{const{setDeviceState:t,getDeviceState:n,deviceStates:r}=e;return a.createElement("div",{className:"row"},Array.from(e.devices).filter((([,e])=>e.supported)).map((([,e])=>{var t;return{device:e,deviceState:null!==(t=r.get(e.friendly_name))&&void 0!==t?t:{}}})).map((({device:e,deviceState:t})=>{var n,a;const r=(null!==(a=null===(n=e.definition)||void 0===n?void 0:n.exposes)&&void 0!==a?a:[]).map((e=>va(e,t))).filter((e=>e));return{device:e,deviceState:t,filteredFeatures:r}})).filter((({filteredFeatures:e})=>e.length>0)).map((({device:e,deviceState:r,filteredFeatures:s})=>a.createElement(ra,{key:e.ieee_address,feature:{features:s},device:e,deviceState:r,onChange:(n,a)=>t(`${e.friendly_name}${n?`/${n}`:""}`,a),onRead:(t,a)=>n(`${e.friendly_name}${t?`/${t}`:""}`,a),featureWrapperClass:ma}))))}));var Ea=n(79307),fa=n(74981);n(56395),n(24203),n(57787);class ba extends a.Component{constructor(){super(...arguments),this.state={},this.loadExtension=e=>{const{value:t}=e.target;this.setState({currentExtension:t})},this.onExtensionCodeChange=e=>{const{updateExtensionCode:t}=this.props,{currentExtension:n}=this.state;n&&t({name:n,code:e})},this.onSaveClick=()=>{const{saveExtensionCode:e}=this.props,{currentExtension:t}=this.state,{extensions:n}=this.props,a=n.find((e=>e.name===t));a&&e(a)},this.removeExtension=()=>{const{removeExtension:e}=this.props,{currentExtension:t}=this.state,{extensions:n}=this.props,a=n.find((e=>e.name===t));a&&e(a)},this.addNewExtension=()=>{const{updateExtensionCode:e}=this.props,t=Date.now()+"",n=prompt("Enter new extension name",`user-extension${t}.js`),a=Ea.replace(/_TS_/g,t);null!==n&&(e({name:n,code:a}),this.setState({currentExtension:n}))}}renderEditor(){var e,t;const{currentExtension:n}=this.state,{extensions:r,theme:s}=this.props,l=null!==(t=null===(e=r.find((e=>e.name===n)))||void 0===e?void 0:e.code)&&void 0!==t?t:"",i="light"===s?"github":"dracula";return a.createElement(a.Fragment,null,a.createElement("div",{className:"row mb-2"},a.createElement("div",{className:"col-6"},a.createElement("select",{value:n,className:"form-control",onChange:this.loadExtension},a.createElement("option",{key:"hidden",hidden:!0},"Select extension to edit"),r.map((({name:e})=>a.createElement("option",{key:e,value:e},e))))),a.createElement("div",{className:"col-6"},a.createElement(ie,{onClick:this.addNewExtension,className:"btn btn-success me-2"},a.createElement("i",{className:"fa fa-plus"})),a.createElement(ie,{promt:!0,disabled:!n,onClick:this.removeExtension,className:"btn btn-danger me-2"},a.createElement("i",{className:"fa fa-trash"})),a.createElement(ie,{disabled:!n,onClick:this.onSaveClick,className:"btn btn-primary"},"Save"))),a.createElement(fa.ZP,{mode:"javascript",onChange:this.onExtensionCodeChange,name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0},value:l,width:"100%",maxLines:1/0,theme:i,showPrintMargin:!1}))}render(){return a.createElement("div",{className:"card h-100"},a.createElement("div",{className:"card-body h-100"},this.renderEditor()))}}const ya=(0,I.$)(["extensions","theme"],le)(ba),ka=(0,I.$)(["bridgeState"],le)((e=>{const{bridgeState:t}=e,[n,r]=(0,a.useState)("online"!==t);return(0,a.useEffect)((()=>{r("online"!==t)}),[t]),a.createElement($e,{isOpen:n},a.createElement(Oe,null,"Zigbee2MQTT"),a.createElement(Ae,null,a.createElement("div",null,"Hello, Zigbee2MQTT in status ",a.createElement("span",{className:"text-danger"},t),"."),a.createElement("div",null,"Please wait....")),a.createElement(De,null,a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:()=>r(!1)},"Close")))})),Na={light:"./css/light.css",dark:"./css/dark.css"};Q.connect(),Re.render(a.createElement((()=>{const{theme:e}=q.getState();return a.createElement(I.z,{store:q},a.createElement(Cn.ThemeSwitcherProvider,{themeMap:Na,defaultTheme:e},a.createElement(we.UT,null,a.createElement(ka,null),a.createElement("div",{className:"main"},a.createElement(xn,null),a.createElement("main",{className:"content p-0 p-sm-3"},a.createElement("div",{className:"container-fluid p-0 h-100"},a.createElement(xe.rs,null,a.createElement(xe.AW,{path:"/ota",render:e=>a.createElement(ta,Object.assign({},e),a.createElement(ea,null))}),a.createElement(xe.AW,{path:"/map",render:e=>a.createElement(ta,Object.assign({},e),a.createElement(_e,null))}),a.createElement(xe.AW,{path:"/device/:dev/:tab?",render:e=>a.createElement(ta,Object.assign({},e),a.createElement(on,null))}),a.createElement(xe.AW,{path:"/settings/:tab?",render:e=>a.createElement(ta,Object.assign({},e),a.createElement(Nn,null))}),a.createElement(xe.AW,{path:"/groups",render:e=>a.createElement(ta,Object.assign({},e),a.createElement(Tn,null))}),a.createElement(xe.AW,{path:"/logs",render:e=>a.createElement(ta,Object.assign({},e),a.createElement(Qn,null))}),a.createElement(xe.AW,{path:"/touchlink",render:e=>a.createElement(ta,Object.assign({},e),a.createElement(mn,null))}),a.createElement(xe.AW,{path:"/dashboard",render:e=>a.createElement(ta,Object.assign({},e),a.createElement(ga,null))}),a.createElement(xe.AW,{path:"/extensions",render:e=>a.createElement(ta,Object.assign({},e),a.createElement(ya,null))}),a.createElement(xe.AW,{path:"/",render:e=>a.createElement(ta,Object.assign({},e),a.createElement(Bn,null))}))))))))}),null),document.getElementById("root"))},79307:e=>{"use strict";e.exports="class MyExampleExtension_TS_ {\n    constructor(zigbee, mqtt, state, publishEntityState, eventBus, settings, logger) {\n        logger.info('Loaded  MyExampleExtension_TS_');\n        mqtt.publish('example/extension', 'hello from MyExampleExtension_TS_');\n        this.mqttBaseTopic = settings.get().mqtt.base_topic;\n        this.eventBus = eventBus;\n        this.mqtt = mqtt;\n        this.eventBus.on('stateChange', this.onStateChange.bind(this), this.constructor.name);\n    }\n\n    async onStateChange(data) {\n        const { ID, from, to, reason } = data;\n\n        const myRemoteIeeeAddre= '0x00158d000224154d'; // change this\n        const myLampIeeAddr = '0x00124b001e73227f'; // change this\n        //example how to toggle state\n        if (ID === myRemoteIeeeAddre) { //state changed for myRemote (clicked a button)\n            if (from.action !== to.action && to.action === 'single') {\n                this.mqtt.onMessage(`${this.mqttBaseTopic}/${myLampIeeAddr}/set`, JSON.stringify({state: 'toggle'}));\n            }\n        }\n    }\n\n    async onMQTTMessage(topic, message) {\n        // console.log({topic, message});\n    }\n\n    async stop() {\n        this.eventBus.removeListenersExtension(this.constructor.name);\n    }\n}\n\nmodule.exports = MyExampleExtension_TS_;\n"},48454:(e,t,n)=>{"use strict";e.exports=n.p+"d921749ee5fe6bc67e4c.png"},59858:e=>{"use strict";e.exports='{\n  "devices": {"dataType":"Map","value":[]},\n  "deviceStates": {"dataType":"Map","value":[]},\n  "touchlinkDevices": [],\n  "touchlinkScanInProgress": false,\n  "touchlinkIdentifyInProgress": false,\n  "touchlinkResetInProgress": false,\n  "networkGraph": {\n    "links": [],\n    "nodes": []\n  },\n  "networkGraphIsLoading": false,\n  "groups": [],\n  "bridgeState": "online",\n  "bridgeConfig": {\n  },\n  "bridgeInfo": {\n    "configSchema": {\n      "properties": {},\n      "required": []\n    },\n    "config": {}\n  },\n  "logs": [],\n  "extensions": [],\n  "theme": "light"\n}\n'}},e=>{"use strict";e.O(void 0,[718],(()=>(44013,e(e.s=44013))))}]);
//# sourceMappingURL=main.d6ee68c50692e41ef2fc.js.map